
// __app.js

;( function( $ ) {
	"use strict";

	window.body = $('body');
	
	var _this, label, placeholder, _template, navigation = $('#navigation');

	$.app = {
		
		initSandwich: function()
		{
			this.sandwich.init({
				keyHooks: !0,
				selector: '.js-sandwich-menu',
				wrapper: '.layout-wrapper',
				overlay: '#menu-overlay'
			});
		},

		initSelect: function()
		{
			$('select').selectbox();

			body.on('change', '.js-form-select', function(e){
				$(this).closest('.js-form-label').removeClass('error');
			});
		},

		initMask: function()
		{
			$(".js-phone-watcher").mask("+ 7 (999) 999-99-99");
		},
		
		initFastclick: function()
		{
			FastClick.attach(document.body);
		},

		initPopup: function()
		{
			$.popup.init('.js-open-popup', {
				cssPosition: !0,
				wrapper: '.layout-wrapper'
			});

			body.on('popup.after_open', function(e, popup){
				_this.preloadForm(popup, '.js-form-input');
			});
		},

		checkForm: function(element, isempty)
		{
			if (!isempty || (isempty && $.trim($(element).val()) == ''))
			{
				label = $(element).closest('.js-form-label');
				
				if (label.find('.selectbox').length && $.trim($(element).val()) !== '')
				{
					label.find('.selectbox').addClass('is-checked');
				}

				if (!label.find('.js-label-name').length)
				{
					if ($(element).hasClass('js-form-select'))
					{
						placeholder = $(element).data('placeholder');
					}
					else {
						placeholder = $(element).prop('placeholder');
						$(element).prop('placeholder', '');
					}

					if (placeholder.indexOf('*') >= 0)
					{
						placeholder = placeholder.replace('*', '<span class="form__label__star">*</span>');
					}

					_template = $(template('tmpl-form-label', { name: placeholder }));

					label.append(_template);

					if ($.trim($(element).val()) !== '')
					{
						label.addClass('focus');
					}
				}
			}
		},

		preloadForm: function(parent, class_name)
		{
			if ($(parent).find(class_name).length)
			{
				$(parent).find(class_name).each(function(){
					_this.checkForm($(this), !1);
				});
			}
		},

		initForm: function()
		{
			_this = this;
			
			_this.preloadForm('body', '.js-form-input');

			body.on('focus', '.js-form-input', function(e){
				_this.checkForm($(this), !1);
				$(this).closest('.js-form-label').addClass('focus');
			});

			body.on('select.open', function(e, select){
				$(select).closest('.js-form-label').addClass('focus');
			});

			body.on('select.close', function(e, select){
				var $select = $(select).closest('.js-form-label').find('.js-form-select');
				
				if ($.trim($select.val()) == '')
				{
					$(select).closest('.js-form-label').removeClass('focus');
				}
			});

			body.on('change', '.js-form-select', function(e){
				if ($.trim($(this).val()) == '')
				{
					$(this).closest('.js-form-label').removeClass('focus');
				}
			});

			body.on('blur', '.js-form-input', function(e){
				if ($.trim($(this).val()) == '')
				{
					$(this).closest('.js-form-label').removeClass('focus');
				}
			});
		},

		initFancyBox: function()
		{
			if (!is_undefined($.fn.fancybox))
			{
				$('.fancybox').fancybox();

				$('.fancybox-media').fancybox({
					openEffect  : 'none',
					closeEffect : 'none',
					helpers : {
						media : {},
						overlay: {
						  locked: false
						}
					}
				});

				$(".various").fancybox({
					maxWidth	: 800,
					maxHeight	: 600,
					fitToView	: false,
					width		: '70%',
					height		: '70%',
					autoSize	: false,
					closeClick	: false,
					openEffect	: 'none',
					closeEffect	: 'none',
					helpers: {
						overlay: {
						  locked: false
						}
					}
				});
			}
		},

		carousel: function()
		{
			if ($('#carousel').length > 0 && $('#carousel').find('.carousel__item').length > 1)
			{
				$('#carousel').slick({
					infinite: true,
					dots: false,
					draggable: true,
					speed: 170,
					slidesToShow: 5,
		  			slidesToScroll: 1,
					prevArrow: '<button type="button" class="carousel__navigation carousel__navigation_prev slick-prev"></button>',
					nextArrow: '<button type="button" class="carousel__navigation carousel__navigation_next slick-next"></button>',
					responsive: [
						{
							breakpoint: 1024,
							settings: {
								slidesToShow: 3
							}
						},
						{
							breakpoint: 600,
							settings: {
								slidesToShow: 2
							}
						},
						{
							breakpoint: 480,
							settings: {
								slidesToShow: 1
							}
						}
					]
				});
			}
		},

		slickSider: function()
		{
			if ($('#slider').length > 0 && $('#slider').find('.slider__item').length > 1)
			{
				$('#slider').slick({
					infinite: true,
					dots: true,
					draggable: false,
					speed: 300,
					fade: true,
					autoplay: true,
					autoplaySpeed: 4500,
					pauseOnHover: false,
					cssEase: 'ease',
					prevArrow: '<button type="button" class="slider__navigation slider__navigation_prev slick-prev"></button>',
					nextArrow: '<button type="button" class="slider__navigation slider__navigation_next slick-next"></button>'
				});
			}
		},

		disableHover: function()
		{
			var timer;
			window.addEventListener('scroll', function() {
				clearTimeout(timer);
				
				if(!body.hasClass('disable-hover')) {
					body.addClass('disable-hover');
				}

				timer = setTimeout(function(){
					body.removeClass('disable-hover');
				},500);
			}, false);
		},

		navFixed: function(top)
		{
			if (top >= 91)
			{
				if (!navigation.hasClass('fixed'))
				{
					navigation.addClass('fixed');
				}
			}
			else {
				navigation.removeClass('fixed');
			}
		},

		navigation: function()
		{
			var _this = this, submenu = $('#navigation-submenu');;

			_this.navFixed($(window).scrollTop());

			$(window).on('scroll', function(){
				_this.navFixed($(window).scrollTop());
			});

			body.on('mouseenter', '.navigation__item', function(){

				if ($(window).width() > 960)
				{
					var item = $(this), div, height;

					if (item.find('.submenu').length)
					{
						div = document.createElement('div');
						div.id = 'test-fixed';
						div.style.position = 'fixed';
						div.style.bacgroundColor = '#f00';
						div.innerHTML = item.find('.submenu').html();

						$(body).append(div);

						height = $('#test-fixed').outerHeight();

						$('#test-fixed').remove();

						$('#navigation-submenu').css({
							'height': height - 30
						});

						submenu.addClass('show');
						item.find('.submenu').addClass('show');

						setTimeout(function(){
							submenu.addClass('active');
							item.find('.submenu').addClass('active');
						}, 20);
					}
				}
			});

			body.on('mouseleave', '.navigation__item', function(e){
				var item = $(this);

				if ($(window).width() > 960)
				{
					if (item.find('.submenu').length)
					{
						item.find('.submenu').removeClass('active');

						submenu.removeClass('active');
						submenu.removeClass('show');

						item.find('.submenu').removeClass('show');
					}
				}
			});
			
		},

		initDocuments: function()
		{
			body.on('click', '.js-doc-trigger', function(e){
				e.preventDefault();

				var doc = $(this).closest('.doc');
				
				doc.find('.doc__content').slideToggle(300, function(){
					doc.toggleClass('open');
				});

				return !1;
			});

			body.on('mouseenter', '.js-doc-link', function(){
				$(this).closest('.js-doc-item').addClass('hover');
			});

			body.on('mouseleave', '.js-doc-link', function(){
				$(this).closest('.js-doc-item').removeClass('hover');
			});
		},

		initSearch: function()
		{
			var _search, _overlay, _form;

			_search = $(template('tmpl-search', {}));
			
			body.append(_search);
			
			_form = $('#search-form');
			_overlay = $('#search-overlay');

			body.on('click', '.js-search', function(e){
				if ($(window).width() > 960)
				{
					e.preventDefault();
					_overlay.addClass('visible');
					_form.addClass('visible');

					setTimeout(function(){
						_overlay.addClass('animate');
						_form.addClass('animate');
					}, 10);
				}
			});

			body.on('click', '#search-overlay', function(){
				_overlay.removeClass('animate');
				_form.removeClass('animate');

				setTimeout(function(){
					_overlay.removeClass('visible');
					_form.removeClass('visible');
				}, 400);
			});
		},

		initNav: function()
		{
			body.on('click', '.navigation__link', function(e){
				if ($(window).width() < 960)
				{
					if ($(this).closest('.navigation__item_dropdown').length)
					{
						e.preventDefault();
						$(this).closest('.navigation__item_dropdown').toggleClass('open');
					}
				}
			});

			body.on('click', '.submenu__item__link', function(e){
				if ($(window).width() < 960)
				{
					if ($(this).closest('.submenu__item_dropdown').length)
					{
						e.preventDefault();
						$(this).closest('.submenu__item_dropdown').toggleClass('open');
					}
				}
			});
		},

		init: function()
		{
			this.disableHover();

			this.initFastclick();
			this.initFancyBox();

			this.initNav();
			this.initForm();

			this.initPopup();
			this.initMask();
			this.initSelect();
			this.initSandwich();
			this.initDocuments();
			this.initSearch();

			this.slickSider();
			this.carousel();
			this.navigation();

			$.app.ajaxForm.init();
		}

	};

})( jQuery );


// _app.ajaxform.js

;( function( $ ) {
	"use strict";

	$.app = $.app = $.app || {};

	var body = $('body'), _this;

	$.app.ajaxForm = {

		config: {
			form_class: '.form-ajax',
			link_class: '.js-request-link',
			error_class: 'error',
			error_message: 'form__error-message',
			form_label: 'form__label',
			checkbox_label: 'control'
		},

		callback_stack: {},

		extend: function(config)
		{
			_this = this;

			if (typeof config !== 'undefined')
        	{
        		var x;
        		for (x in config)
        		{
        			if (typeof _this.config[x] !== 'undefined')
        				_this.config[x] = config[x];
        		}
        	}
		},

		default_handler: function(form, response)
		{
			_this = this;

		    if (response.status)
		    {
		        if (response.hasOwnProperty('redirect_url'))
		        {
		            window.location.href = response.redirect_url;
		        }
		    }
		    else if (response.errors)
		    {
		        _this.validation(form, response.errors);
		    }
		    
		    if (response.hasOwnProperty('message') && response.message !== '')
		    {
		    	if (form.find('.js-form-result').length)
		    	{
		    		form.find('.js-form-result').append(template('tmpl-form-success', { message: response.message }));
		    		form.find('.js-form-result').addClass('active');
		    	}
		    	
		    	if (form.find('.js-form-button').length)
		    	{
		    		form.find('.js-form-button').removeClass('active');
		    	}
		    }
		},

		validation: function(form, errors)
		{
			_this = this;

		    form.find('.' + _this.config.error_class).removeClass(_this.config.error_class);
		    form.find('.' + _this.config.error_message).remove();
		    
		    var fieldName, field;

		    setTimeout(function() {
			    if (errors)
			    {
			       	for(fieldName in errors)
			        {
						// if (form.find('input[name="'+fieldName+'"]').length > 0)
						// {
						// 	field = form.find('input[name="'+fieldName+'"]');
						// }

						// if (form.find('select[name="'+fieldName+'"]').length > 0)
						// {
						// 	field = form.find('select[name="'+fieldName+'"]');
						// }

						// if (form.find('textarea[name="'+fieldName+'"]').length > 0)
						// {
						// 	field = form.find('textarea[name="'+fieldName+'"]');
						// }

						field = form.find('[name="'+fieldName+'"]').closest('.' + _this.config.form_label);

			            if (form.find('[name="'+fieldName+'"]').closest('.' + _this.config.checkbox_label).length)
			            {
			                field = form.find('[name="'+fieldName+'"]').closest('.' + _this.config.checkbox_label);
			            }

			            if (typeof field !== 'undefined')
			            {
		                	field.addClass(_this.config.error_class);
		                	field.closest('.'+_this.config.form_label).append('<div class="' + _this.config.error_message + '">' + errors[fieldName] + '</div>');
		                }
			        }
			    }
		    }, 10);
		},

		upload: function()
		{
			_this = this;

		    body.on('submit', '.form-file-upload', function(e) {
		        return AIM.submit(this, {
		            onStart: function()
		            {

		            },
		            onComplete: function(result)
		            {
		                if (typeof result === 'object' && result.status === true && result.hasOwnProperty('photo_url'))
		                {

		                }
		            }
		        });
		    });
		    
		    $(document).on('change', '.upload_button_onchange', function(){
		        if ($(this).closest('.upload_button').find('.upload_button_field').length > 0)
		        {
		            $(this).closest('.upload_button').find('.upload_button_field').html($(this).val());
		        }
		    });
		},

		send: function(action, method, data, cb, err)
		{

			if (typeof cb !== 'function')
			{
				cb = function() {};
			}

			if (typeof err !== 'function')
			{
				err = function() {};
			}

			try {
		   	
		   		$.ajax({
		            url: action,
		            type: method,
		            data: data,
		            contentType: false,
					processData: method.toLowerCase() == 'get',
		            success: cb,
		            error: err,
		            dataType: 'JSON'
				});

		    } catch(e){}

		},

		initLink: function()
		{
			_this = this;

			body.on('submit', _this.config.form_class, function(e) {
		        e.preventDefault ? e.preventDefault() : e.returnValue = false;
	       		
	       		var link = $(this);

	       		if (link.data('is-busy')) {
					return;
				}

				link.data('is-busy', true);

	       		var action = ($(this).attr('href')) || $(this).data('action'),
	       			method = ($(this).data('method')) || 'get',
	       			data = {};

	       		_this.send(
	        		action,
	        		method,
	        		data,
		        	function(response)
		        	{
		            	if (link.data('callback') && _this.callback_stack.hasOwnProperty(link.data('callback')))
		                {
		                    _this.callback_stack[link.data('callback')](link, response);
		                }
		                else
		                {
		                    _this.default_handler(link, response);
		                }

		                if (response.status === true)
		                {
							
		                }

		            	link.data('is-busy', false);
		            },
		            function(response)
		            {
		                _this.default_handler(link, response);
		                link.data('is-busy', false);
		            }
	            );
	       	});
		},

		initForm: function()
		{
			_this = this;

			body.on('submit', _this.config.form_class, function(e) {
		        e.preventDefault ? e.preventDefault() : e.returnValue = false;

		        var form 	= $(this),
		        	action	= form.attr('action'),
	            	method	= (form.attr('method') || 'post'),
	            	data 	= !!window.FormData ? new FormData(form[0]) : form.serialize();

				if (form.data('is-busy')) {
					return;
				}

				form.data('is-busy', true);

				if (form.data('precallback') && _this.callback_stack.hasOwnProperty(form.data('precallback'))) {
					if(!_this.callback_stack[form.data('precallback')](form))
					{
						return false;
					}
				}

		        _this.send(
	        		action,
	        		method,
	        		data,
		        	function(response)
		        	{
		            	if (form.data('callback') && _this.callback_stack.hasOwnProperty(form.data('callback')))
		                {
		                    _this.callback_stack[form.data('callback')](form, response);
		                }
		                else
		                {
		                    _this.default_handler(form, response);
		                }

		                if (response.status === true)
		                {
							
		                }

		            	form.data('is-busy', false);
		            },
		            function(response)
		            {
		                _this.default_handler(form, response);
		                form.data('is-busy', false);
		            }
	            );
		    });
		},

		removeError: function()
		{
			_this = this;

			$('body').on('focus, click', '.js-form-input', function(){
				$(this).closest('.' + _this.config.form_label).removeClass(_this.config.error_class);
			});
		},

		init: function(config)
		{
			this.extend(config);
			
			this.initForm();
			this.initLink();
			this.removeError();
		}

	};

})( jQuery );


// _app.map.js

;(function ($) {
	"use strict";

	$.app = $.app = $.app || {};

	$.app.map = {
		
		config: {
			coords: {
				lat: 45.064400,
				lon: 38.953892
			},
			container: 'map-layer'
		},

		resize: function()
		{
			$(document.getElementById(this.config.container)).height($(window).height() - $('#header').height());
		},

		google: function()
		{
			var mapOptions = {
				zoom: 17,
				zoomControl: !1,
				panControl: !1,
				scrollwheel: !1,
				navigationControl: !1,
				mapTypeControl: !1,
				scaleControl: !1,
				draggable: !0,
				disableDoubleClickZoom: !1,
		        streetViewControl: !1,
		        overviewMapControl: !1,
		    	center: new google.maps.LatLng(this.config.coords.lat, this.config.coords.lon)
			};
		    
		    var image = {
		        url: './images/marker@2x.png',
		        size: new google.maps.Size(32, 32),
		        origin: new google.maps.Point(0, 0),
		        scaledSize: new google.maps.Size(32, 32),
		        anchor: new google.maps.Point(32, 32)
		    };

		    var map = new google.maps.Map(document.getElementById(this.config.container), mapOptions);
		    var marker = new google.maps.Marker({
		        position: new google.maps.LatLng(this.config.coords.lat, this.config.coords.lon),
		        map: map,
		        icon: image,
		        flat: true,
		        title: 'г. Москва, Тессинский переулок, вл. 2-6, 19'
		    });

		    function toggleBounce()
		    {
		    	if (marker.getAnimation() !== null) {
					marker.setAnimation(null);
				} else {
					marker.setAnimation(google.maps.Animation.BOUNCE);

					setTimeout(function(){
						marker.setAnimation(null);
					}, 2000);
				}
			}

		    marker.addListener('click', toggleBounce);
		},

		init: function()
		{
			$.app.map.resize();
			$.app.map.google();

			var timeout;

			$(window).on('resize', function(){
				clearTimeout(timeout);
				timeout = setTimeout(function(){
					$.app.map.resize();
				}, 200);
			});
		}

	};

	window.initialize = $.app.map.init;

})(jQuery);


// _app.sandwich.js

;(function ($) {
	"use strict";

	$.app = $.app = $.app || {};

	var _this;

	$.app.sandwich = {

		config: {
			keyHooks: !1,
			selector: '.js-sandwich-menu',
            wrapper: '.layout-wrapper',
            overlay: '.overlay'
		},

		extend: function(config)
		{
			_this = this;

			if (typeof config !== 'undefined')
        	{
        		var x;
        		for (x in config)
        		{
        			if (typeof _this.config[x] !== 'undefined')
        				_this.config[x] = config[x];
        		}
        	}
		},

		isOpen: function()
		{
			return body.hasClass('page-visible');
		},

		hide: function()
		{
			body.removeClass('page-open');

	        setTimeout(function(){
				body.removeClass('page-visible');
			}, 10);

	        $(this.config.overlay).css({
	            'visibility': 'hidden'
	        });
		},

		toggle: function()
		{
			if (body.hasClass('page-visible'))
			{
				setTimeout(function(){
					body.removeClass('page-visible');
				}, 10);
			}
			else
			{
				setTimeout(function(){
					body.addClass('page-visible');
				}, 10);
			}

			body.toggleClass('page-open');

			var visibility = 'visible';

	        if (!body.hasClass('page-open'))
	        {
	            visibility = 'hidden'
	        }
	        
	        $(_this.config.overlay).css({
	            'visibility': visibility
	        });
		},

		sandwichTrigger: function()
		{
			_this = this;

			if (_this.config.keyHooks)
			{
				body.on('keydown', function(e) {
					if(e.keyCode == 27 && _this.isOpen())
					{
						_this.toggle();
					}
				});
	    	};

			body.on('click', _this.config.selector, function(e){
		        e.preventDefault ? e.preventDefault() : e.returnValue = false;
				_this.toggle();
			});
		},

		overlayTrigger: function()
		{
			_this = this;

			body.on('click', _this.config.overlay, function(e){
				_this.hide();
		    });
		},

		init: function(config)
		{
			this.extend(config);
			
			this.sandwichTrigger();
			this.overlayTrigger();
		}

	};

})(jQuery);


// _fns.js

var tools = {
    isString: function (obj) {
        return typeof obj === 'string';
    },
    isObject: function (obj) {
        return typeof obj === 'object';
    },
    isNumber: function (obj) {
        return typeof obj === 'number';
    },
    isUndefined: function (value) {
        return typeof value === 'undefined';
    },
    isDefined: function (value) {
        return typeof value !== 'undefined';
    }
};

function is_null(x)
{
	return x == null;
}

function is_undefined(x)
{
	return typeof(x) == 'undefined';
}

function is_touch_device()
{
    return ("ontouchstart" in window || window.DocumentTouch && document instanceof DocumentTouch || 'onmsgesturechange' in window);
}

function declOfNum(number, titles) {  
    cases = [2, 0, 1, 1, 1, 2];  
    return titles[ (number%100>4 && number%100<20)? 2 : cases[(number%10<5)?number%10:5] ];  
}
// declOfNum(count, ['найдена', 'найдено', 'найдены']);

var shuffle = function( array ) {
	return array.sort( function() {
		return Math.random() - 0.5;
	} );
};

function updateCaptcha(captcha, ev)
{
    ev.preventDefault();

    if ($(captcha).length)
    {
        $(captcha).attr('src', $(captcha).attr('src').split( '?' )[0] + '?v=' + Math.random());
    }

    return !1;
}
	
// function doOnOrientationChange()
// {
// 	switch(window.orientation) 
// 	{  
// 		case -90:
// 		case 90:
// 		alert('landscape');
// 		break; 
// 		default:
// 		alert('portrait');
// 		break; 
// 	}
// }

// window.addEventListener('orientationchange', doOnOrientationChange);

// doOnOrientationChange();


// Smoothly Scroll to page anchors
// var jump = function (e) {
// // Stop the "hard" jump.
// e.preventDefault();
// //Get the target
// var target = $(this).attr("href");
// // Use animated scrolling.  The .stop() prevents scroll queue.
// $('html,body').stop().animate({
//   // Find top-position of target-element and set it as scroll target.
//   scrollTop: $(target).offset().top
//   // Animation Delay:
//   }, 500, function () {
//     // Attach the hash (#jumptarget) to the page url.
//     location.hash = target;
//   });
// }

// // Instantiate this as follows in your document.ready();
// //$(document).ready(function () {
// //$('a[href*=#]').bind("click", jump);
// //return false;
// //});


// _selectbox.js

;(function($) {
    
    var body = $('body'),
        config = {
            pclass: 'form__row'
        };

    function iSelect(select)
    {
        if (select.hasClass('inited'))
        {
            return !1;
        }

        var selectbox, divSelect, divText, dropdown, li, selectHeight, liHeight, position, option, topOffset, bottomOffset, selectedText, liText, optionSelected, selectboxSelect, selectboxDropdown, selectboxTrigger, selectboxSelectText, optionText, ddlist, class_name, length, liItem, data, x;

        option = select.find('option');
        optionSelected = option.filter(':selected');
        
        if (optionSelected.length)
        {
            optionText = optionSelected.text();
        }
        else {
            optionText = option.filter(':first').text();
        }

        //Html
        ddlist = document.createElement('ul');
        ddlist.className = 'selectbox__dropdown__list';

        length = option.length;

        for (i = 0; i < length; i++)
        {
            class_name = '';

            if (option.eq(i).is(':selected')) class_name += ' selected sel';
            if (option.eq(i).is(':disabled')) class_name += ' disabled';
            
            if (i == (option.length-1))
            {
                class_name += ' last-child';
            }
            
            if (option.eq(i).data('classname'))
            {
                class_name += ' ' + option.eq(i).data('classname');
            }

            liItem = document.createElement('li');
            liItem.className = 'selectbox__dropdown__item' + class_name;
            liItem.appendChild(document.createTextNode(option.eq(i).text()));
            
            if (option.eq(i).data())
            {
                data = option.eq(i).data();
                
                for (x in data)
                {
                    liItem.dataset[x] = data[x];
                }
            }

            ddlist.appendChild(liItem);
        }

        selectbox = document.createElement('div');
        selectbox.className = 'selectbox';

        if (select.is(':disabled'))
        {
            selectbox.className = selectbox.className + ' is-disabled';
        }
        
        selectboxSelectText = document.createElement('div');
        selectboxSelectText.className = 'selectbox__select__text';
        selectboxSelectText.appendChild(document.createTextNode(optionText));

        selectboxSelect = document.createElement('div');
        selectboxSelect.className = 'selectbox__select';
        selectboxSelect.appendChild(selectboxSelectText);

        selectboxTrigger = document.createElement('div');
        selectboxTrigger.className = 'selectbox__trigger';
        selectboxTrigger.innerHTML = '<i class="selectbox__trigger__arrow"></i>';

        selectboxDropdown = document.createElement('div');
        selectboxDropdown.className = 'selectbox__dropdown';
        selectboxDropdown.appendChild(ddlist);
        
        selectbox.appendChild(selectboxSelect);
        selectbox.appendChild(selectboxTrigger);
        selectbox.appendChild(selectboxDropdown);

        select.before(selectbox).css({
            position: 'absolute',
            top: -9999
        });

        selectbox = $(selectbox);

        // Events
        divSelect   = $(selectboxSelect);
        divText     = $(selectboxSelectText);
        dropdown    = $(selectboxDropdown);
        
        li = dropdown.find('li');

        selectHeight = selectbox.outerHeight();
        
        if (dropdown.css('left') == 'auto')
        {
            dropdown.css({
                left: 0
            });
        }
        
        if (dropdown.css('top') == 'auto')
        {
            dropdown.css({
                top: selectHeight
            });
        }

        liHeight = li.outerHeight();
        position = dropdown.css('top');

        dropdown.hide();
        selectbox.removeClass('selectbox-active');
        
        divSelect.on('click', function (e){
            e.preventDefault();

            if (selectbox.hasClass('is-disabled'))
            {
                return !1;
            }

            topOffset = selectbox.offset().top;
            bottomOffset = $(window).height() - selectHeight - (topOffset - $(window).scrollTop());

            if (bottomOffset < 0 || bottomOffset < liHeight * 6)
            {
                dropdown.height('auto').css({
                    top: 'auto',
                    bottom: position
                });

                if (dropdown.outerHeight() > topOffset - $(window).scrollTop() - 20) {
                    dropdown.height(Math.floor((topOffset - $(window).scrollTop() - 20) / liHeight) * liHeight);
                }
            }
            else if (bottomOffset > liHeight * 6)
            {
                dropdown.height('auto').css({
                    bottom: 'auto',
                    top: position
                });

                if (dropdown.outerHeight() > bottomOffset - 20)
                {
                    dropdown.height(Math.floor((bottomOffset - 20) / liHeight) * liHeight);
                }
            }

            selectbox.css({
                zIndex: 1000
            });

            $('.form__row.overed').removeClass('overed');

            if (selectbox.closest('.form__row').length)
            {
                selectbox.closest('.form__row').addClass('overed');
            }

            if (dropdown.is(':hidden'))
            {
                $('div.dropdown:visible').hide();
                
                selectbox.addClass('selectbox-active');
                dropdown.show();

                body.trigger('select.open', divSelect);
            }
            else
            {
                selectbox.removeClass('selectbox-active');
                dropdown.hide();

                body.trigger('select.close', divSelect);
            }

            return !1;
        });

        li.hover(function () {
            $(this).siblings().removeClass('selected');
        });

        selectedText = li.filter('.selected').text();

        li.filter(':not(.disabled)').on('click', function () {
            liText = $(this).text();

            if (li.closest('.form__row').length)
            {
                li.closest('.form__row').removeClass('overed');
            }
            
            if (selectedText !== liText)
            {
                $(this).addClass('selected sel').siblings().removeClass('selected sel');
                option.prop('selected', !1).eq($(this).index()).prop('selected', !0);
                
                selectedText = liText;
                divText.text(liText);
                select.change();

                selectbox.addClass('is-checked');
            }

            dropdown.hide();

            selectbox.removeClass('selectbox-active');
            
            $('body').trigger('select.close', divSelect);

            return !1;
        });

        dropdown.mouseout(function () {
            dropdown.find('li.sel').addClass('selected');
        });
        
        select.focus(function() {
            $('.selectbox').removeClass('focused');
            selectbox.addClass('focused');
        }).keyup(function () {
            divText.text(option.filter(':selected').text());
            li.removeClass('selected sel').eq(option.filter(':selected').index()).addClass('selected sel');
        });

        select.addClass('inited');

        $(document).on('click', function (e) {
            if (!$(e.target).parents().hasClass('selectbox'))
            {
                dropdown.hide().find('li.sel').addClass('selected');
                selectbox.removeClass('selectbox-active');
                selectbox.removeClass('focused');

                $('body').trigger('select.close', divSelect);

                if (selectbox.closest('.form__row').length)
                {
                    selectbox.closest('.form__row').removeClass('overed');
                }
            }
        });
    }

    $.fn.selectbox = function() {
        
        return this.each(function(){
            
            return (function(select){

                iSelect(select);

                select.on('refresh', function(){
                    select.prev('.selectbox').remove();
                    select.removeClass('inited');
                    iSelect(select);
                });

            })($(this))

        });

    };
})(jQuery);


// _viewport.js

;(function ( $, window, document ) {
	"use strict";

	var viewport = 0,
    	wheight = $(window).height(),
    	scrollTop;

    $.fn.viewport = function ( options ) {
        options = $.extend( {}, $.fn.viewport.options, options );

        $.fn.viewport.options.items = this;

        if (!$.fn.viewport.options.elements.length)
		{
			$.fn.viewport.calculate();
		}

		if ($.fn.viewport.options.elements.length)
		{
			$.fn.viewport.animate();
	    }

	    $(window).scroll(function(){
			$.fn.viewport.animate();
		});

	    $(window).resize(function(){
			$.fn.viewport.calculate();
		});
    };

    $.fn.viewport.options = {
        items: {},
        elements: {}
    };

	$.fn.viewport.calculate = function() {
		$.fn.viewport.options.elements = $.fn.viewport.options.items.map(function(){
			if ($(this).length) {
				return $(this);
			}
        });
	}

    $.fn.viewport.animate = function() {
		scrollTop = $(window).scrollTop();

		$.fn.viewport.options.elements.map(function(){
			viewport = scrollTop + wheight;

	        if ($(this).offset().top <= viewport && !$(this).hasClass('active'))
	        {
	        	$(this).addClass('active');
	        }
	    });
	}

})( jQuery, window, document );

$('.effected').viewport();


// init.js

$(window).load(function() {
	$.app.init();
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9fYXBwLmpzIiwiX2FwcC5hamF4Zm9ybS5qcyIsIl9hcHAubWFwLmpzIiwiX2FwcC5zYW5kd2ljaC5qcyIsIl9mbnMuanMiLCJfc2VsZWN0Ym94LmpzIiwiX3ZpZXdwb3J0LmpzIiwiaW5pdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLFdBQVc7O0FBRVgsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxHQUFHO0FBQ2pCLENBQUMsWUFBWSxDQUFDOztBQUVkLENBQUMsTUFBTSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7O0FBRXpCLENBQUMsSUFBSSxLQUFLLEVBQUUsS0FBSyxFQUFFLFdBQVcsRUFBRSxTQUFTLEVBQUUsVUFBVSxHQUFHLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQzs7QUFFekUsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHOztFQUVQLFlBQVksRUFBRTtFQUNkO0dBQ0MsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUM7SUFDbEIsUUFBUSxFQUFFLENBQUMsQ0FBQztJQUNaLFFBQVEsRUFBRSxtQkFBbUI7SUFDN0IsT0FBTyxFQUFFLGlCQUFpQjtJQUMxQixPQUFPLEVBQUUsZUFBZTtJQUN4QixDQUFDLENBQUM7QUFDTixHQUFHOztFQUVELFVBQVUsRUFBRTtFQUNaO0FBQ0YsR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsU0FBUyxFQUFFLENBQUM7O0dBRXhCLElBQUksQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLGlCQUFpQixFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQy9DLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDdkQsQ0FBQyxDQUFDO0FBQ04sR0FBRzs7RUFFRCxRQUFRLEVBQUU7RUFDVjtHQUNDLENBQUMsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO0FBQ3RELEdBQUc7O0VBRUQsYUFBYSxFQUFFO0VBQ2Y7R0FDQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNuQyxHQUFHOztFQUVELFNBQVMsRUFBRTtFQUNYO0dBQ0MsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7SUFDOUIsV0FBVyxFQUFFLENBQUMsQ0FBQztJQUNmLE9BQU8sRUFBRSxpQkFBaUI7QUFDOUIsSUFBSSxDQUFDLENBQUM7O0dBRUgsSUFBSSxDQUFDLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRSxTQUFTLENBQUMsRUFBRSxLQUFLLENBQUM7SUFDN0MsS0FBSyxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztJQUMzQyxDQUFDLENBQUM7QUFDTixHQUFHOztFQUVELFNBQVMsRUFBRSxTQUFTLE9BQU8sRUFBRSxPQUFPO0VBQ3BDO0dBQ0MsSUFBSSxDQUFDLE9BQU8sS0FBSyxPQUFPLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7R0FDM0Q7QUFDSCxJQUFJLEtBQUssR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUM7O0lBRTdDLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxNQUFNLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsS0FBSyxFQUFFO0lBQ3RFO0tBQ0MsS0FBSyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLENBQUM7QUFDckQsS0FBSzs7SUFFRCxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLE1BQU07SUFDeEM7S0FDQyxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUM7S0FDekM7TUFDQyxXQUFXLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztNQUM3QztVQUNJO01BQ0osV0FBVyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7TUFDN0MsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDekMsTUFBTTs7S0FFRCxJQUFJLFdBQVcsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQztLQUNqQztNQUNDLFdBQVcsR0FBRyxXQUFXLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSwwQ0FBMEMsQ0FBQyxDQUFDO0FBQ3pGLE1BQU07O0FBRU4sS0FBSyxTQUFTLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxpQkFBaUIsRUFBRSxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsQ0FBQyxDQUFDLENBQUM7O0FBRXZFLEtBQUssS0FBSyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQzs7S0FFeEIsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxLQUFLLEVBQUU7S0FDbkM7TUFDQyxLQUFLLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO01BQ3hCO0tBQ0Q7SUFDRDtBQUNKLEdBQUc7O0VBRUQsV0FBVyxFQUFFLFNBQVMsTUFBTSxFQUFFLFVBQVU7RUFDeEM7R0FDQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsTUFBTTtHQUNyQztJQUNDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVU7S0FDekMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUM3QixDQUFDLENBQUM7SUFDSDtBQUNKLEdBQUc7O0VBRUQsUUFBUSxFQUFFO0VBQ1Y7QUFDRixHQUFHLEtBQUssR0FBRyxJQUFJLENBQUM7O0FBRWhCLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQzs7R0FFNUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDN0MsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM3QixDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQ3hELElBQUksQ0FBQyxDQUFDOztHQUVILElBQUksQ0FBQyxFQUFFLENBQUMsYUFBYSxFQUFFLFNBQVMsQ0FBQyxFQUFFLE1BQU0sQ0FBQztJQUN6QyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQzFELElBQUksQ0FBQyxDQUFDOztHQUVILElBQUksQ0FBQyxFQUFFLENBQUMsY0FBYyxFQUFFLFNBQVMsQ0FBQyxFQUFFLE1BQU0sQ0FBQztBQUM5QyxJQUFJLElBQUksT0FBTyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQzs7SUFFMUUsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLEVBQUU7SUFDL0I7S0FDQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0tBQ3pEO0FBQ0wsSUFBSSxDQUFDLENBQUM7O0dBRUgsSUFBSSxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsaUJBQWlCLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDL0MsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLEVBQUU7SUFDL0I7S0FDQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0tBQ3ZEO0FBQ0wsSUFBSSxDQUFDLENBQUM7O0dBRUgsSUFBSSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsZ0JBQWdCLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDNUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLEVBQUU7SUFDL0I7S0FDQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0tBQ3ZEO0lBQ0QsQ0FBQyxDQUFDO0FBQ04sR0FBRzs7RUFFRCxZQUFZLEVBQUU7RUFDZDtHQUNDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUM7R0FDaEM7QUFDSCxJQUFJLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQzs7SUFFMUIsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLENBQUMsUUFBUSxDQUFDO0tBQzdCLFVBQVUsSUFBSSxNQUFNO0tBQ3BCLFdBQVcsR0FBRyxNQUFNO0tBQ3BCLE9BQU8sR0FBRztNQUNULEtBQUssR0FBRyxFQUFFO01BQ1YsT0FBTyxFQUFFO1FBQ1AsTUFBTSxFQUFFLEtBQUs7T0FDZDtNQUNEO0FBQ04sS0FBSyxDQUFDLENBQUM7O0lBRUgsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLFFBQVEsQ0FBQztLQUN0QixRQUFRLEdBQUcsR0FBRztLQUNkLFNBQVMsR0FBRyxHQUFHO0tBQ2YsU0FBUyxHQUFHLEtBQUs7S0FDakIsS0FBSyxJQUFJLEtBQUs7S0FDZCxNQUFNLElBQUksS0FBSztLQUNmLFFBQVEsR0FBRyxLQUFLO0tBQ2hCLFVBQVUsR0FBRyxLQUFLO0tBQ2xCLFVBQVUsR0FBRyxNQUFNO0tBQ25CLFdBQVcsR0FBRyxNQUFNO0tBQ3BCLE9BQU8sRUFBRTtNQUNSLE9BQU8sRUFBRTtRQUNQLE1BQU0sRUFBRSxLQUFLO09BQ2Q7TUFDRDtLQUNELENBQUMsQ0FBQztJQUNIO0FBQ0osR0FBRzs7RUFFRCxRQUFRLEVBQUU7RUFDVjtHQUNDLElBQUksQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDO0dBQ2xGO0lBQ0MsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEtBQUssQ0FBQztLQUNwQixRQUFRLEVBQUUsSUFBSTtLQUNkLElBQUksRUFBRSxLQUFLO0tBQ1gsU0FBUyxFQUFFLElBQUk7S0FDZixLQUFLLEVBQUUsR0FBRztLQUNWLFlBQVksRUFBRSxDQUFDO09BQ2IsY0FBYyxFQUFFLENBQUM7S0FDbkIsU0FBUyxFQUFFLG1HQUFtRztLQUM5RyxTQUFTLEVBQUUsbUdBQW1HO0tBQzlHLFVBQVUsRUFBRTtNQUNYO09BQ0MsVUFBVSxFQUFFLElBQUk7T0FDaEIsUUFBUSxFQUFFO1FBQ1QsWUFBWSxFQUFFLENBQUM7UUFDZjtPQUNEO01BQ0Q7T0FDQyxVQUFVLEVBQUUsR0FBRztPQUNmLFFBQVEsRUFBRTtRQUNULFlBQVksRUFBRSxDQUFDO1FBQ2Y7T0FDRDtNQUNEO09BQ0MsVUFBVSxFQUFFLEdBQUc7T0FDZixRQUFRLEVBQUU7UUFDVCxZQUFZLEVBQUUsQ0FBQztRQUNmO09BQ0Q7TUFDRDtLQUNELENBQUMsQ0FBQztJQUNIO0FBQ0osR0FBRzs7RUFFRCxVQUFVLEVBQUU7RUFDWjtHQUNDLElBQUksQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQztHQUM1RTtJQUNDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxLQUFLLENBQUM7S0FDbEIsUUFBUSxFQUFFLElBQUk7S0FDZCxJQUFJLEVBQUUsSUFBSTtLQUNWLFNBQVMsRUFBRSxLQUFLO0tBQ2hCLEtBQUssRUFBRSxHQUFHO0tBQ1YsSUFBSSxFQUFFLElBQUk7S0FDVixRQUFRLEVBQUUsSUFBSTtLQUNkLGFBQWEsRUFBRSxJQUFJO0tBQ25CLFlBQVksRUFBRSxLQUFLO0tBQ25CLE9BQU8sRUFBRSxNQUFNO0tBQ2YsU0FBUyxFQUFFLCtGQUErRjtLQUMxRyxTQUFTLEVBQUUsK0ZBQStGO0tBQzFHLENBQUMsQ0FBQztJQUNIO0FBQ0osR0FBRzs7RUFFRCxZQUFZLEVBQUU7RUFDZDtHQUNDLElBQUksS0FBSyxDQUFDO0dBQ1YsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxXQUFXO0FBQ2hELElBQUksWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDOztJQUVwQixHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxlQUFlLENBQUMsRUFBRTtLQUNuQyxJQUFJLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0FBQ3BDLEtBQUs7O0lBRUQsS0FBSyxHQUFHLFVBQVUsQ0FBQyxVQUFVO0tBQzVCLElBQUksQ0FBQyxXQUFXLENBQUMsZUFBZSxDQUFDLENBQUM7S0FDbEMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNQLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDYixHQUFHOztFQUVELFFBQVEsRUFBRSxTQUFTLEdBQUc7RUFDdEI7R0FDQyxJQUFJLEdBQUcsSUFBSSxFQUFFO0dBQ2I7SUFDQyxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUM7SUFDakM7S0FDQyxVQUFVLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0tBQzdCO0lBQ0Q7UUFDSTtJQUNKLFVBQVUsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDaEM7QUFDSixHQUFHOztFQUVELFVBQVUsRUFBRTtFQUNaO0FBQ0YsR0FBRyxJQUFJLEtBQUssR0FBRyxJQUFJLEVBQUUsT0FBTyxHQUFHLENBQUMsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDLENBQUM7O0FBRXpELEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQzs7R0FFdEMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsVUFBVTtJQUNoQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDO0FBQzFDLElBQUksQ0FBQyxDQUFDOztBQUVOLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsbUJBQW1CLEVBQUUsVUFBVTs7SUFFcEQsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxFQUFFLEdBQUcsR0FBRztJQUMzQjtBQUNKLEtBQUssSUFBSSxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxNQUFNLENBQUM7O0tBRWhDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxNQUFNO0tBQ2hDO01BQ0MsR0FBRyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7TUFDcEMsR0FBRyxDQUFDLEVBQUUsR0FBRyxZQUFZLENBQUM7TUFDdEIsR0FBRyxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsT0FBTyxDQUFDO01BQzdCLEdBQUcsQ0FBQyxLQUFLLENBQUMsY0FBYyxHQUFHLE1BQU0sQ0FBQztBQUN4QyxNQUFNLEdBQUcsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQzs7QUFFbkQsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDOztBQUUxQixNQUFNLE1BQU0sR0FBRyxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7O0FBRTlDLE1BQU0sQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDOztNQUUxQixDQUFDLENBQUMscUJBQXFCLENBQUMsQ0FBQyxHQUFHLENBQUM7T0FDNUIsUUFBUSxFQUFFLE1BQU0sR0FBRyxFQUFFO0FBQzVCLE9BQU8sQ0FBQyxDQUFDOztNQUVILE9BQU8sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDL0IsTUFBTSxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQzs7TUFFdkMsVUFBVSxDQUFDLFVBQVU7T0FDcEIsT0FBTyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztPQUMzQixJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztPQUN6QyxFQUFFLEVBQUUsQ0FBQyxDQUFDO01BQ1A7S0FDRDtBQUNMLElBQUksQ0FBQyxDQUFDOztHQUVILElBQUksQ0FBQyxFQUFFLENBQUMsWUFBWSxFQUFFLG1CQUFtQixFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ3pELElBQUksSUFBSSxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDOztJQUVuQixJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLEVBQUUsR0FBRyxHQUFHO0lBQzNCO0tBQ0MsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLE1BQU07S0FDaEM7QUFDTCxNQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDOztNQUU1QyxPQUFPLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQ3BDLE1BQU0sT0FBTyxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQzs7TUFFNUIsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7TUFDMUM7S0FDRDtBQUNMLElBQUksQ0FBQyxDQUFDOztBQUVOLEdBQUc7O0VBRUQsYUFBYSxFQUFFO0VBQ2Y7R0FDQyxJQUFJLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxTQUFTLENBQUMsQ0FBQztBQUNsRCxJQUFJLENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQzs7QUFFdkIsSUFBSSxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDOztJQUVsQyxHQUFHLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxHQUFHLEVBQUUsVUFBVTtLQUNwRCxHQUFHLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQzdCLEtBQUssQ0FBQyxDQUFDOztJQUVILE9BQU8sQ0FBQyxDQUFDLENBQUM7QUFDZCxJQUFJLENBQUMsQ0FBQzs7R0FFSCxJQUFJLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxjQUFjLEVBQUUsVUFBVTtJQUMvQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUN0RCxJQUFJLENBQUMsQ0FBQzs7R0FFSCxJQUFJLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxjQUFjLEVBQUUsVUFBVTtJQUMvQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNyRCxDQUFDLENBQUM7QUFDTixHQUFHOztFQUVELFVBQVUsRUFBRTtFQUNaO0FBQ0YsR0FBRyxJQUFJLE9BQU8sRUFBRSxRQUFRLEVBQUUsS0FBSyxDQUFDOztBQUVoQyxHQUFHLE9BQU8sR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDLGFBQWEsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDOztBQUU1QyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7O0dBRXJCLEtBQUssR0FBRyxDQUFDLENBQUMsY0FBYyxDQUFDLENBQUM7QUFDN0IsR0FBRyxRQUFRLEdBQUcsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLENBQUM7O0dBRWhDLElBQUksQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLFlBQVksRUFBRSxTQUFTLENBQUMsQ0FBQztJQUN6QyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLEVBQUUsR0FBRyxHQUFHO0lBQzNCO0tBQ0MsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO0tBQ25CLFFBQVEsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDbEMsS0FBSyxLQUFLLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDOztLQUUxQixVQUFVLENBQUMsVUFBVTtNQUNwQixRQUFRLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDO01BQzdCLEtBQUssQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUM7TUFDMUIsRUFBRSxFQUFFLENBQUMsQ0FBQztLQUNQO0FBQ0wsSUFBSSxDQUFDLENBQUM7O0dBRUgsSUFBSSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsVUFBVTtJQUM3QyxRQUFRLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQ3BDLElBQUksS0FBSyxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsQ0FBQzs7SUFFN0IsVUFBVSxDQUFDLFVBQVU7S0FDcEIsUUFBUSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsQ0FBQztLQUNoQyxLQUFLLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0tBQzdCLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDUixDQUFDLENBQUM7QUFDTixHQUFHOztFQUVELE9BQU8sRUFBRTtFQUNUO0dBQ0MsSUFBSSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDaEQsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxFQUFFLEdBQUcsR0FBRztJQUMzQjtLQUNDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDLE1BQU07S0FDeEQ7TUFDQyxDQUFDLENBQUMsY0FBYyxFQUFFLENBQUM7TUFDbkIsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQztNQUNsRTtLQUNEO0FBQ0wsSUFBSSxDQUFDLENBQUM7O0dBRUgsSUFBSSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDbkQsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxFQUFFLEdBQUcsR0FBRztJQUMzQjtLQUNDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDLE1BQU07S0FDckQ7TUFDQyxDQUFDLENBQUMsY0FBYyxFQUFFLENBQUM7TUFDbkIsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQztNQUMvRDtLQUNEO0lBQ0QsQ0FBQyxDQUFDO0FBQ04sR0FBRzs7RUFFRCxJQUFJLEVBQUU7RUFDTjtBQUNGLEdBQUcsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDOztHQUVwQixJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7QUFDeEIsR0FBRyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7O0dBRXBCLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztBQUNsQixHQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQzs7R0FFaEIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO0dBQ2pCLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztHQUNoQixJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7R0FDbEIsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO0dBQ3BCLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztBQUN4QixHQUFHLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQzs7R0FFbEIsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO0dBQ2xCLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztBQUNuQixHQUFHLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQzs7R0FFbEIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDekIsR0FBRzs7QUFFSCxFQUFFLENBQUM7O0NBRUYsR0FBRyxNQUFNLEVBQUUsQ0FBQzs7QUN0YmI7QUFDQSxtQkFBbUI7O0FBRW5CLENBQUMsRUFBRSxVQUFVLENBQUMsR0FBRztBQUNqQixDQUFDLFlBQVksQ0FBQzs7QUFFZCxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLEVBQUUsQ0FBQzs7QUFFN0IsQ0FBQyxJQUFJLElBQUksR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsS0FBSyxDQUFDOztBQUU3QixDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsUUFBUSxHQUFHOztFQUVoQixNQUFNLEVBQUU7R0FDUCxVQUFVLEVBQUUsWUFBWTtHQUN4QixVQUFVLEVBQUUsa0JBQWtCO0dBQzlCLFdBQVcsRUFBRSxPQUFPO0dBQ3BCLGFBQWEsRUFBRSxxQkFBcUI7R0FDcEMsVUFBVSxFQUFFLGFBQWE7R0FDekIsY0FBYyxFQUFFLFNBQVM7QUFDNUIsR0FBRzs7QUFFSCxFQUFFLGNBQWMsRUFBRSxFQUFFOztFQUVsQixNQUFNLEVBQUUsU0FBUyxNQUFNO0VBQ3ZCO0FBQ0YsR0FBRyxLQUFLLEdBQUcsSUFBSSxDQUFDOztHQUViLElBQUksT0FBTyxNQUFNLEtBQUssV0FBVztTQUMzQjtVQUNDLElBQUksQ0FBQyxDQUFDO1VBQ04sS0FBSyxDQUFDLElBQUksTUFBTTtVQUNoQjtXQUNDLElBQUksT0FBTyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxLQUFLLFdBQVc7WUFDekMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7V0FDN0I7VUFDRDtBQUNWLEdBQUc7O0VBRUQsZUFBZSxFQUFFLFNBQVMsSUFBSSxFQUFFLFFBQVE7RUFDeEM7QUFDRixHQUFHLEtBQUssR0FBRyxJQUFJLENBQUM7O01BRVYsSUFBSSxRQUFRLENBQUMsTUFBTTtNQUNuQjtVQUNJLElBQUksUUFBUSxDQUFDLGNBQWMsQ0FBQyxjQUFjLENBQUM7VUFDM0M7Y0FDSSxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksR0FBRyxRQUFRLENBQUMsWUFBWSxDQUFDO1dBQ2hEO09BQ0o7V0FDSSxJQUFJLFFBQVEsQ0FBQyxNQUFNO01BQ3hCO1VBQ0ksS0FBSyxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ2xELE9BQU87O01BRUQsSUFBSSxRQUFRLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxPQUFPLEtBQUssRUFBRTtNQUNqRTtPQUNDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLE1BQU07T0FDdkM7UUFDQyxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsRUFBRSxFQUFFLE9BQU8sRUFBRSxRQUFRLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ2xHLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDeEQsUUFBUTs7T0FFRCxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxNQUFNO09BQ3ZDO1FBQ0MsSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNuRDtPQUNEO0FBQ1AsR0FBRzs7RUFFRCxVQUFVLEVBQUUsU0FBUyxJQUFJLEVBQUUsTUFBTTtFQUNqQztBQUNGLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQzs7TUFFVixJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBQ3RGLE1BQU0sSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQzs7QUFFM0QsTUFBTSxJQUFJLFNBQVMsRUFBRSxLQUFLLENBQUM7O01BRXJCLFVBQVUsQ0FBQyxXQUFXO09BQ3JCLElBQUksTUFBTTtPQUNWO1dBQ0ksSUFBSSxTQUFTLElBQUksTUFBTTtBQUNsQyxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDOztlQUUxRSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUMsTUFBTTtlQUN6RjttQkFDSSxLQUFLLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQztBQUMxRyxnQkFBZ0I7O2VBRUQsSUFBSSxPQUFPLEtBQUssS0FBSyxXQUFXO2VBQ2hDO21CQUNJLEtBQUssQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQzttQkFDekMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQyxNQUFNLENBQUMsY0FBYyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsYUFBYSxHQUFHLElBQUksR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUM7bUJBQ3JJO1lBQ1A7UUFDSjtPQUNELEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDYixHQUFHOztFQUVELE1BQU0sRUFBRTtFQUNSO0FBQ0YsR0FBRyxLQUFLLEdBQUcsSUFBSSxDQUFDOztNQUVWLElBQUksQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLG1CQUFtQixFQUFFLFNBQVMsQ0FBQyxFQUFFO1VBQy9DLE9BQU8sR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUU7Y0FDcEIsT0FBTyxFQUFFO0FBQ3ZCLGNBQWM7O2VBRUM7Y0FDRCxVQUFVLEVBQUUsU0FBUyxNQUFNO2NBQzNCO2tCQUNJLElBQUksT0FBTyxNQUFNLEtBQUssUUFBUSxJQUFJLE1BQU0sQ0FBQyxNQUFNLEtBQUssSUFBSSxJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDO0FBQ2hILGtCQUFrQjs7bUJBRUM7ZUFDSjtXQUNKLENBQUMsQ0FBQztBQUNiLE9BQU8sQ0FBQyxDQUFDOztNQUVILENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLHlCQUF5QixFQUFFLFVBQVU7VUFDMUQsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUMsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUMsTUFBTSxHQUFHLENBQUM7VUFDN0U7Y0FDSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUMsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO1dBQ3RGO09BQ0osQ0FBQyxDQUFDO0FBQ1QsR0FBRzs7RUFFRCxJQUFJLEVBQUUsU0FBUyxNQUFNLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsR0FBRztBQUM5QyxFQUFFOztHQUVDLElBQUksT0FBTyxFQUFFLEtBQUssVUFBVTtHQUM1QjtJQUNDLEVBQUUsR0FBRyxXQUFXLEVBQUUsQ0FBQztBQUN2QixJQUFJOztHQUVELElBQUksT0FBTyxHQUFHLEtBQUssVUFBVTtHQUM3QjtJQUNDLEdBQUcsR0FBRyxXQUFXLEVBQUUsQ0FBQztBQUN4QixJQUFJOztBQUVKLEdBQUcsSUFBSTs7T0FFQSxDQUFDLENBQUMsSUFBSSxDQUFDO2NBQ0EsR0FBRyxFQUFFLE1BQU07Y0FDWCxJQUFJLEVBQUUsTUFBTTtjQUNaLElBQUksRUFBRSxJQUFJO2NBQ1YsV0FBVyxFQUFFLEtBQUs7S0FDM0IsV0FBVyxFQUFFLE1BQU0sQ0FBQyxXQUFXLEVBQUUsSUFBSSxLQUFLO2NBQ2pDLE9BQU8sRUFBRSxFQUFFO2NBQ1gsS0FBSyxFQUFFLEdBQUc7Y0FDVixRQUFRLEVBQUUsTUFBTTtBQUM5QixLQUFLLENBQUMsQ0FBQzs7QUFFUCxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRTs7QUFFbEIsR0FBRzs7RUFFRCxRQUFRLEVBQUU7RUFDVjtBQUNGLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQzs7R0FFYixJQUFJLENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxTQUFTLENBQUMsRUFBRTtBQUMxRCxVQUFVLENBQUMsQ0FBQyxjQUFjLEdBQUcsQ0FBQyxDQUFDLGNBQWMsRUFBRSxHQUFHLENBQUMsQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDOztBQUV4RSxVQUFVLElBQUksSUFBSSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQzs7VUFFbkIsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFO0tBQy9CLE9BQU87QUFDWixLQUFLOztBQUVMLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUM7O1VBRXJCLElBQUksTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztXQUM1RCxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEtBQUs7QUFDckQsV0FBVyxJQUFJLEdBQUcsRUFBRSxDQUFDOztVQUVYLEtBQUssQ0FBQyxJQUFJO1dBQ1QsTUFBTTtXQUNOLE1BQU07V0FDTixJQUFJO1dBQ0osU0FBUyxRQUFRO1dBQ2pCO2VBQ0ksSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEtBQUssQ0FBQyxjQUFjLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7a0JBQ3BGO3NCQUNJLEtBQUssQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQztBQUNsRixtQkFBbUI7O2tCQUVEO3NCQUNJLEtBQUssQ0FBQyxlQUFlLENBQUMsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQzVELG1CQUFtQjs7a0JBRUQsSUFBSSxRQUFRLENBQUMsTUFBTSxLQUFLLElBQUk7QUFDOUMsa0JBQWtCOztBQUVsQixtQkFBbUI7O2VBRUosSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7ZUFDNUI7Y0FDRCxTQUFTLFFBQVE7Y0FDakI7a0JBQ0ksS0FBSyxDQUFDLGVBQWUsQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUM7a0JBQ3RDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxDQUFDO2VBQy9CO2NBQ0QsQ0FBQztVQUNMLENBQUMsQ0FBQztBQUNaLEdBQUc7O0VBRUQsUUFBUSxFQUFFO0VBQ1Y7QUFDRixHQUFHLEtBQUssR0FBRyxJQUFJLENBQUM7O0dBRWIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLE1BQU0sQ0FBQyxVQUFVLEVBQUUsU0FBUyxDQUFDLEVBQUU7QUFDMUQsVUFBVSxDQUFDLENBQUMsY0FBYyxHQUFHLENBQUMsQ0FBQyxjQUFjLEVBQUUsR0FBRyxDQUFDLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQzs7VUFFOUQsSUFBSSxJQUFJLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQztXQUNsQixNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7Y0FDekIsTUFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksTUFBTSxDQUFDO0FBQ3RELGNBQWMsSUFBSSxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUSxHQUFHLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQzs7SUFFL0UsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFO0tBQ3pCLE9BQU87QUFDWixLQUFLOztBQUVMLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUM7O0lBRTNCLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxLQUFLLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLEVBQUU7S0FDOUYsR0FBRyxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztLQUN4RDtNQUNDLE9BQU8sS0FBSyxDQUFDO01BQ2I7QUFDTixLQUFLOztVQUVLLEtBQUssQ0FBQyxJQUFJO1dBQ1QsTUFBTTtXQUNOLE1BQU07V0FDTixJQUFJO1dBQ0osU0FBUyxRQUFRO1dBQ2pCO2VBQ0ksSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEtBQUssQ0FBQyxjQUFjLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7a0JBQ3BGO3NCQUNJLEtBQUssQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQztBQUNsRixtQkFBbUI7O2tCQUVEO3NCQUNJLEtBQUssQ0FBQyxlQUFlLENBQUMsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQzVELG1CQUFtQjs7a0JBRUQsSUFBSSxRQUFRLENBQUMsTUFBTSxLQUFLLElBQUk7QUFDOUMsa0JBQWtCOztBQUVsQixtQkFBbUI7O2VBRUosSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7ZUFDNUI7Y0FDRCxTQUFTLFFBQVE7Y0FDakI7a0JBQ0ksS0FBSyxDQUFDLGVBQWUsQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUM7a0JBQ3RDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxDQUFDO2VBQy9CO2NBQ0QsQ0FBQztPQUNSLENBQUMsQ0FBQztBQUNULEdBQUc7O0VBRUQsV0FBVyxFQUFFO0VBQ2I7QUFDRixHQUFHLEtBQUssR0FBRyxJQUFJLENBQUM7O0dBRWIsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxjQUFjLEVBQUUsZ0JBQWdCLEVBQUUsVUFBVTtJQUN4RCxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3JGLENBQUMsQ0FBQztBQUNOLEdBQUc7O0VBRUQsSUFBSSxFQUFFLFNBQVMsTUFBTTtFQUNyQjtBQUNGLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQzs7R0FFcEIsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO0dBQ2hCLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztHQUNoQixJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7QUFDdEIsR0FBRzs7QUFFSCxFQUFFLENBQUM7O0NBRUYsR0FBRyxNQUFNLEVBQUUsQ0FBQzs7QUMzU2I7QUFDQSxjQUFjOztBQUVkLENBQUMsQ0FBQyxVQUFVLENBQUMsRUFBRTtBQUNmLENBQUMsWUFBWSxDQUFDOztBQUVkLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksRUFBRSxDQUFDOztBQUU3QixDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHOztFQUVYLE1BQU0sRUFBRTtHQUNQLE1BQU0sRUFBRTtJQUNQLEdBQUcsRUFBRSxTQUFTO0lBQ2QsR0FBRyxFQUFFLFNBQVM7SUFDZDtHQUNELFNBQVMsRUFBRSxXQUFXO0FBQ3pCLEdBQUc7O0VBRUQsTUFBTSxFQUFFO0VBQ1I7R0FDQyxDQUFDLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztBQUN4RyxHQUFHOztFQUVELE1BQU0sRUFBRTtFQUNSO0dBQ0MsSUFBSSxVQUFVLEdBQUc7SUFDaEIsSUFBSSxFQUFFLEVBQUU7SUFDUixXQUFXLEVBQUUsQ0FBQyxDQUFDO0lBQ2YsVUFBVSxFQUFFLENBQUMsQ0FBQztJQUNkLFdBQVcsRUFBRSxDQUFDLENBQUM7SUFDZixpQkFBaUIsRUFBRSxDQUFDLENBQUM7SUFDckIsY0FBYyxFQUFFLENBQUMsQ0FBQztJQUNsQixZQUFZLEVBQUUsQ0FBQyxDQUFDO0lBQ2hCLFNBQVMsRUFBRSxDQUFDLENBQUM7SUFDYixzQkFBc0IsRUFBRSxDQUFDLENBQUM7VUFDcEIsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDO1VBQ3JCLGtCQUFrQixFQUFFLENBQUMsQ0FBQztPQUN6QixNQUFNLEVBQUUsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDO0FBQ3JGLElBQUksQ0FBQzs7TUFFQyxJQUFJLEtBQUssR0FBRztVQUNSLEdBQUcsRUFBRSx3QkFBd0I7VUFDN0IsSUFBSSxFQUFFLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQztVQUNsQyxNQUFNLEVBQUUsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1VBQ25DLFVBQVUsRUFBRSxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUM7VUFDeEMsTUFBTSxFQUFFLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQztBQUMvQyxPQUFPLENBQUM7O01BRUYsSUFBSSxHQUFHLEdBQUcsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUUsVUFBVSxDQUFDLENBQUM7TUFDMUYsSUFBSSxNQUFNLEdBQUcsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztVQUNoQyxRQUFRLEVBQUUsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDO1VBQ2hGLEdBQUcsRUFBRSxHQUFHO1VBQ1IsSUFBSSxFQUFFLEtBQUs7VUFDWCxJQUFJLEVBQUUsSUFBSTtVQUNWLEtBQUssRUFBRSw2Q0FBNkM7QUFDOUQsT0FBTyxDQUFDLENBQUM7O01BRUgsU0FBUyxZQUFZO01BQ3JCO09BQ0MsSUFBSSxNQUFNLENBQUMsWUFBWSxFQUFFLEtBQUssSUFBSSxFQUFFO0tBQ3RDLE1BQU0sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDMUIsTUFBTTtBQUNYLEtBQUssTUFBTSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQzs7S0FFbEQsVUFBVSxDQUFDLFVBQVU7TUFDcEIsTUFBTSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztNQUMxQixFQUFFLElBQUksQ0FBQyxDQUFDO0tBQ1Q7QUFDTCxJQUFJOztNQUVFLE1BQU0sQ0FBQyxXQUFXLENBQUMsT0FBTyxFQUFFLFlBQVksQ0FBQyxDQUFDO0FBQ2hELEdBQUc7O0VBRUQsSUFBSSxFQUFFO0VBQ047R0FDQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUN0QixHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDOztBQUV0QixHQUFHLElBQUksT0FBTyxDQUFDOztHQUVaLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLFVBQVU7SUFDaEMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3RCLE9BQU8sR0FBRyxVQUFVLENBQUMsVUFBVTtLQUM5QixDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQztLQUNuQixFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ1IsQ0FBQyxDQUFDO0FBQ04sR0FBRzs7QUFFSCxFQUFFLENBQUM7O0FBRUgsQ0FBQyxNQUFNLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQzs7Q0FFbkMsRUFBRSxNQUFNLENBQUMsQ0FBQzs7QUM1Rlg7QUFDQSxtQkFBbUI7O0FBRW5CLENBQUMsQ0FBQyxVQUFVLENBQUMsRUFBRTtBQUNmLENBQUMsWUFBWSxDQUFDOztBQUVkLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksRUFBRSxDQUFDOztBQUU3QixDQUFDLElBQUksS0FBSyxDQUFDOztBQUVYLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEdBQUc7O0VBRWhCLE1BQU0sRUFBRTtHQUNQLFFBQVEsRUFBRSxDQUFDLENBQUM7R0FDWixRQUFRLEVBQUUsbUJBQW1CO1lBQ3BCLE9BQU8sRUFBRSxpQkFBaUI7WUFDMUIsT0FBTyxFQUFFLFVBQVU7QUFDL0IsR0FBRzs7RUFFRCxNQUFNLEVBQUUsU0FBUyxNQUFNO0VBQ3ZCO0FBQ0YsR0FBRyxLQUFLLEdBQUcsSUFBSSxDQUFDOztHQUViLElBQUksT0FBTyxNQUFNLEtBQUssV0FBVztTQUMzQjtVQUNDLElBQUksQ0FBQyxDQUFDO1VBQ04sS0FBSyxDQUFDLElBQUksTUFBTTtVQUNoQjtXQUNDLElBQUksT0FBTyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxLQUFLLFdBQVc7WUFDekMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7V0FDN0I7VUFDRDtBQUNWLEdBQUc7O0VBRUQsTUFBTSxFQUFFO0VBQ1I7R0FDQyxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLENBQUM7QUFDeEMsR0FBRzs7RUFFRCxJQUFJLEVBQUU7RUFDTjtBQUNGLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsQ0FBQzs7U0FFeEIsVUFBVSxDQUFDLFVBQVU7SUFDMUIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxjQUFjLENBQUMsQ0FBQztBQUNyQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7O1NBRUQsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDO2FBQ3ZCLFlBQVksRUFBRSxRQUFRO1VBQ3pCLENBQUMsQ0FBQztBQUNaLEdBQUc7O0VBRUQsTUFBTSxFQUFFO0VBQ1I7R0FDQyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDO0dBQ2pDO0lBQ0MsVUFBVSxDQUFDLFVBQVU7S0FDcEIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxjQUFjLENBQUMsQ0FBQztLQUNqQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ1gsSUFBSTs7R0FFRDtJQUNDLFVBQVUsQ0FBQyxVQUFVO0tBQ3BCLElBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLENBQUM7S0FDOUIsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUNYLElBQUk7O0FBRUosR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxDQUFDOztBQUVqQyxHQUFHLElBQUksVUFBVSxHQUFHLFNBQVMsQ0FBQzs7U0FFckIsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDO1NBQy9CO2FBQ0ksVUFBVSxHQUFHLFFBQVE7QUFDbEMsVUFBVTs7U0FFRCxDQUFDLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLENBQUM7YUFDeEIsWUFBWSxFQUFFLFVBQVU7VUFDM0IsQ0FBQyxDQUFDO0FBQ1osR0FBRzs7RUFFRCxlQUFlLEVBQUU7RUFDakI7QUFDRixHQUFHLEtBQUssR0FBRyxJQUFJLENBQUM7O0dBRWIsSUFBSSxLQUFLLENBQUMsTUFBTSxDQUFDLFFBQVE7R0FDekI7SUFDQyxJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxTQUFTLENBQUMsRUFBRTtLQUM5QixHQUFHLENBQUMsQ0FBQyxPQUFPLElBQUksRUFBRSxJQUFJLEtBQUssQ0FBQyxNQUFNLEVBQUU7S0FDcEM7TUFDQyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUM7TUFDZjtLQUNELENBQUMsQ0FBQztBQUNQLE9BQU8sQ0FBQzs7R0FFTCxJQUFJLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxTQUFTLENBQUMsQ0FBQztVQUM1QyxDQUFDLENBQUMsY0FBYyxHQUFHLENBQUMsQ0FBQyxjQUFjLEVBQUUsR0FBRyxDQUFDLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQztJQUNwRSxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDZixDQUFDLENBQUM7QUFDTixHQUFHOztFQUVELGNBQWMsRUFBRTtFQUNoQjtBQUNGLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQzs7R0FFYixJQUFJLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxTQUFTLENBQUMsQ0FBQztJQUNqRCxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7T0FDVixDQUFDLENBQUM7QUFDVCxHQUFHOztFQUVELElBQUksRUFBRSxTQUFTLE1BQU07RUFDckI7QUFDRixHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7O0dBRXBCLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztHQUN2QixJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7QUFDekIsR0FBRzs7QUFFSCxFQUFFLENBQUM7O0NBRUYsRUFBRSxNQUFNLENBQUMsQ0FBQzs7QUN4SFg7QUFDQSxVQUFVOztBQUVWLElBQUksS0FBSyxHQUFHO0lBQ1IsUUFBUSxFQUFFLFVBQVUsR0FBRyxFQUFFO1FBQ3JCLE9BQU8sT0FBTyxHQUFHLEtBQUssUUFBUSxDQUFDO0tBQ2xDO0lBQ0QsUUFBUSxFQUFFLFVBQVUsR0FBRyxFQUFFO1FBQ3JCLE9BQU8sT0FBTyxHQUFHLEtBQUssUUFBUSxDQUFDO0tBQ2xDO0lBQ0QsUUFBUSxFQUFFLFVBQVUsR0FBRyxFQUFFO1FBQ3JCLE9BQU8sT0FBTyxHQUFHLEtBQUssUUFBUSxDQUFDO0tBQ2xDO0lBQ0QsV0FBVyxFQUFFLFVBQVUsS0FBSyxFQUFFO1FBQzFCLE9BQU8sT0FBTyxLQUFLLEtBQUssV0FBVyxDQUFDO0tBQ3ZDO0lBQ0QsU0FBUyxFQUFFLFVBQVUsS0FBSyxFQUFFO1FBQ3hCLE9BQU8sT0FBTyxLQUFLLEtBQUssV0FBVyxDQUFDO0tBQ3ZDO0FBQ0wsQ0FBQyxDQUFDOztBQUVGLFNBQVMsT0FBTyxDQUFDLENBQUM7QUFDbEI7Q0FDQyxPQUFPLENBQUMsSUFBSSxJQUFJLENBQUM7QUFDbEIsQ0FBQzs7QUFFRCxTQUFTLFlBQVksQ0FBQyxDQUFDO0FBQ3ZCO0NBQ0MsT0FBTyxPQUFPLENBQUMsQ0FBQyxJQUFJLFdBQVcsQ0FBQztBQUNqQyxDQUFDOztBQUVELFNBQVMsZUFBZTtBQUN4QjtJQUNJLFFBQVEsY0FBYyxJQUFJLE1BQU0sSUFBSSxNQUFNLENBQUMsYUFBYSxJQUFJLFFBQVEsWUFBWSxhQUFhLElBQUksbUJBQW1CLElBQUksTUFBTSxFQUFFO0FBQ3BJLENBQUM7O0FBRUQsU0FBUyxTQUFTLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRTtJQUMvQixLQUFLLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzNCLE9BQU8sTUFBTSxFQUFFLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksTUFBTSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztDQUMxRjtBQUNELHVEQUF1RDs7QUFFdkQsSUFBSSxPQUFPLEdBQUcsVUFBVSxLQUFLLEdBQUc7Q0FDL0IsT0FBTyxLQUFLLENBQUMsSUFBSSxFQUFFLFdBQVc7RUFDN0IsT0FBTyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsR0FBRyxDQUFDO0VBQzNCLEVBQUUsQ0FBQztBQUNMLENBQUMsQ0FBQzs7QUFFRixTQUFTLGFBQWEsQ0FBQyxPQUFPLEVBQUUsRUFBRTtBQUNsQztBQUNBLElBQUksRUFBRSxDQUFDLGNBQWMsRUFBRSxDQUFDOztJQUVwQixJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNO0lBQ3JCO1FBQ0ksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO0FBQy9GLEtBQUs7O0lBRUQsT0FBTyxDQUFDLENBQUMsQ0FBQztBQUNkLENBQUM7O0FBRUQsbUNBQW1DO0FBQ25DLElBQUk7QUFDSiwrQkFBK0I7QUFDL0IsT0FBTztBQUNQLGNBQWM7QUFDZCxhQUFhO0FBQ2Isd0JBQXdCO0FBQ3hCLFlBQVk7QUFDWixhQUFhO0FBQ2IsdUJBQXVCO0FBQ3ZCLFlBQVk7QUFDWixLQUFLO0FBQ0wsSUFBSTs7QUFFSix1RUFBdUU7O0FBRXZFLDJCQUEyQjtBQUMzQjs7QUFFQSxrQ0FBa0M7QUFDbEMsNEJBQTRCO0FBQzVCLDJCQUEyQjtBQUMzQixzQkFBc0I7QUFDdEIsbUJBQW1CO0FBQ25CLHFDQUFxQztBQUNyQyxpRUFBaUU7QUFDakUsa0NBQWtDO0FBQ2xDLHdFQUF3RTtBQUN4RSxzQ0FBc0M7QUFDdEMsd0JBQXdCO0FBQ3hCLDBCQUEwQjtBQUMxQix3REFBd0Q7QUFDeEQsOEJBQThCO0FBQzlCLFFBQVE7QUFDUixJQUFJOztBQUVKLDJEQUEyRDtBQUMzRCxvQ0FBb0M7QUFDcEMseUNBQXlDO0FBQ3pDLGtCQUFrQjtBQUNsQixRQUFROztBQ3BHUjtBQUNBLGdCQUFnQjs7QUFFaEIsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxFQUFFOztJQUVWLElBQUksSUFBSSxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUM7UUFDaEIsTUFBTSxHQUFHO1lBQ0wsTUFBTSxFQUFFLFdBQVc7QUFDL0IsU0FBUyxDQUFDOztJQUVOLFNBQVMsT0FBTyxDQUFDLE1BQU07SUFDdkI7UUFDSSxJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDO1FBQzdCO1lBQ0ksT0FBTyxDQUFDLENBQUMsQ0FBQztBQUN0QixTQUFTOztBQUVULFFBQVEsSUFBSSxTQUFTLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLFlBQVksRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQUUsY0FBYyxFQUFFLGVBQWUsRUFBRSxpQkFBaUIsRUFBRSxnQkFBZ0IsRUFBRSxtQkFBbUIsRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7O1FBRTdSLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQ3ZDLFFBQVEsY0FBYyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUM7O1FBRTVDLElBQUksY0FBYyxDQUFDLE1BQU07UUFDekI7WUFDSSxVQUFVLEdBQUcsY0FBYyxDQUFDLElBQUksRUFBRSxDQUFDO1NBQ3RDO2FBQ0k7WUFDRCxVQUFVLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUN4RCxTQUFTO0FBQ1Q7O1FBRVEsTUFBTSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDOUMsUUFBUSxNQUFNLENBQUMsU0FBUyxHQUFHLDJCQUEyQixDQUFDOztBQUV2RCxRQUFRLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDOztRQUV2QixLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sRUFBRSxDQUFDLEVBQUU7UUFDM0I7QUFDUixZQUFZLFVBQVUsR0FBRyxFQUFFLENBQUM7O1lBRWhCLElBQUksTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDLEVBQUUsVUFBVSxJQUFJLGVBQWUsQ0FBQztBQUM1RSxZQUFZLElBQUksTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDLEVBQUUsVUFBVSxJQUFJLFdBQVcsQ0FBQzs7WUFFNUQsSUFBSSxDQUFDLEtBQUssTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDMUI7Z0JBQ0ksVUFBVSxJQUFJLGFBQWEsQ0FBQztBQUM1QyxhQUFhOztZQUVELElBQUksTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDO1lBQ2xDO2dCQUNJLFVBQVUsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7QUFDbkUsYUFBYTs7WUFFRCxNQUFNLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUN0QyxNQUFNLENBQUMsU0FBUyxHQUFHLDJCQUEyQixHQUFHLFVBQVUsQ0FBQztBQUN4RSxZQUFZLE1BQU0sQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQzs7WUFFakUsSUFBSSxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRTtZQUN2QjtBQUNaLGdCQUFnQixJQUFJLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQzs7Z0JBRTNCLEtBQUssQ0FBQyxJQUFJLElBQUk7Z0JBQ2Q7b0JBQ0ksTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7aUJBQy9CO0FBQ2pCLGFBQWE7O1lBRUQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUN2QyxTQUFTOztRQUVELFNBQVMsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ2xELFFBQVEsU0FBUyxDQUFDLFNBQVMsR0FBRyxXQUFXLENBQUM7O1FBRWxDLElBQUksTUFBTSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUM7UUFDMUI7WUFDSSxTQUFTLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQyxTQUFTLEdBQUcsY0FBYyxDQUFDO0FBQ3ZFLFNBQVM7O1FBRUQsbUJBQW1CLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNwRCxtQkFBbUIsQ0FBQyxTQUFTLEdBQUcseUJBQXlCLENBQUM7QUFDbEUsUUFBUSxtQkFBbUIsQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDOztRQUVyRSxlQUFlLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNoRCxlQUFlLENBQUMsU0FBUyxHQUFHLG1CQUFtQixDQUFDO0FBQ3hELFFBQVEsZUFBZSxDQUFDLFdBQVcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDOztRQUVqRCxnQkFBZ0IsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2pELGdCQUFnQixDQUFDLFNBQVMsR0FBRyxvQkFBb0IsQ0FBQztBQUMxRCxRQUFRLGdCQUFnQixDQUFDLFNBQVMsR0FBRywyQ0FBMkMsQ0FBQzs7UUFFekUsaUJBQWlCLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNsRCxpQkFBaUIsQ0FBQyxTQUFTLEdBQUcscUJBQXFCLENBQUM7QUFDNUQsUUFBUSxpQkFBaUIsQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7O1FBRXRDLFNBQVMsQ0FBQyxXQUFXLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDdkMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0FBQ2hELFFBQVEsU0FBUyxDQUFDLFdBQVcsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDOztRQUV6QyxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztZQUN6QixRQUFRLEVBQUUsVUFBVTtZQUNwQixHQUFHLEVBQUUsQ0FBQyxJQUFJO0FBQ3RCLFNBQVMsQ0FBQyxDQUFDOztBQUVYLFFBQVEsU0FBUyxHQUFHLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUNqQzs7UUFFUSxTQUFTLEtBQUssQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQ2pDLE9BQU8sT0FBTyxDQUFDLENBQUMsbUJBQW1CLENBQUMsQ0FBQztBQUM3QyxRQUFRLFFBQVEsTUFBTSxDQUFDLENBQUMsaUJBQWlCLENBQUMsQ0FBQzs7QUFFM0MsUUFBUSxFQUFFLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQzs7QUFFakMsUUFBUSxZQUFZLEdBQUcsU0FBUyxDQUFDLFdBQVcsRUFBRSxDQUFDOztRQUV2QyxJQUFJLFFBQVEsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksTUFBTTtRQUNsQztZQUNJLFFBQVEsQ0FBQyxHQUFHLENBQUM7Z0JBQ1QsSUFBSSxFQUFFLENBQUM7YUFDVixDQUFDLENBQUM7QUFDZixTQUFTOztRQUVELElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxNQUFNO1FBQ2pDO1lBQ0ksUUFBUSxDQUFDLEdBQUcsQ0FBQztnQkFDVCxHQUFHLEVBQUUsWUFBWTthQUNwQixDQUFDLENBQUM7QUFDZixTQUFTOztRQUVELFFBQVEsR0FBRyxFQUFFLENBQUMsV0FBVyxFQUFFLENBQUM7QUFDcEMsUUFBUSxRQUFRLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQzs7UUFFL0IsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ3hCLFFBQVEsU0FBUyxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDOztRQUUxQyxTQUFTLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxVQUFVLENBQUMsQ0FBQztBQUMxQyxZQUFZLENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQzs7WUFFbkIsSUFBSSxTQUFTLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQztZQUNyQztnQkFDSSxPQUFPLENBQUMsQ0FBQyxDQUFDO0FBQzFCLGFBQWE7O1lBRUQsU0FBUyxHQUFHLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUM7QUFDL0MsWUFBWSxZQUFZLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQU0sRUFBRSxHQUFHLFlBQVksSUFBSSxTQUFTLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUM7O1lBRXZGLElBQUksWUFBWSxHQUFHLENBQUMsSUFBSSxZQUFZLEdBQUcsUUFBUSxHQUFHLENBQUM7WUFDbkQ7Z0JBQ0ksUUFBUSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUM7b0JBQ3hCLEdBQUcsRUFBRSxNQUFNO29CQUNYLE1BQU0sRUFBRSxRQUFRO0FBQ3BDLGlCQUFpQixDQUFDLENBQUM7O2dCQUVILElBQUksUUFBUSxDQUFDLFdBQVcsRUFBRSxHQUFHLFNBQVMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsU0FBUyxFQUFFLEdBQUcsRUFBRSxFQUFFO29CQUNqRSxRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFNBQVMsRUFBRSxHQUFHLEVBQUUsSUFBSSxRQUFRLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQztpQkFDL0Y7YUFDSjtpQkFDSSxJQUFJLFlBQVksR0FBRyxRQUFRLEdBQUcsQ0FBQztZQUNwQztnQkFDSSxRQUFRLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQztvQkFDeEIsTUFBTSxFQUFFLE1BQU07b0JBQ2QsR0FBRyxFQUFFLFFBQVE7QUFDakMsaUJBQWlCLENBQUMsQ0FBQzs7Z0JBRUgsSUFBSSxRQUFRLENBQUMsV0FBVyxFQUFFLEdBQUcsWUFBWSxHQUFHLEVBQUU7Z0JBQzlDO29CQUNJLFFBQVEsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLFlBQVksR0FBRyxFQUFFLElBQUksUUFBUSxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUM7aUJBQzFFO0FBQ2pCLGFBQWE7O1lBRUQsU0FBUyxDQUFDLEdBQUcsQ0FBQztnQkFDVixNQUFNLEVBQUUsSUFBSTtBQUM1QixhQUFhLENBQUMsQ0FBQzs7QUFFZixZQUFZLENBQUMsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQzs7WUFFN0MsSUFBSSxTQUFTLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDLE1BQU07WUFDMUM7Z0JBQ0ksU0FBUyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDbkUsYUFBYTs7WUFFRCxJQUFJLFFBQVEsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDO1lBQzFCO0FBQ1osZ0JBQWdCLENBQUMsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDOztnQkFFakMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0FBQ3ZELGdCQUFnQixRQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7O2dCQUVoQixJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsRUFBRSxTQUFTLENBQUMsQ0FBQztBQUN2RCxhQUFhOztZQUVEO2dCQUNJLFNBQVMsQ0FBQyxXQUFXLENBQUMsa0JBQWtCLENBQUMsQ0FBQztBQUMxRCxnQkFBZ0IsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDOztnQkFFaEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxjQUFjLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDeEQsYUFBYTs7WUFFRCxPQUFPLENBQUMsQ0FBQyxDQUFDO0FBQ3RCLFNBQVMsQ0FBQyxDQUFDOztRQUVILEVBQUUsQ0FBQyxLQUFLLENBQUMsWUFBWTtZQUNqQixDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ3ZELFNBQVMsQ0FBQyxDQUFDOztBQUVYLFFBQVEsWUFBWSxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7O1FBRTdDLEVBQUUsQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLFlBQVk7QUFDN0QsWUFBWSxNQUFNLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDOztZQUV4QixJQUFJLEVBQUUsQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUMsTUFBTTtZQUNuQztnQkFDSSxFQUFFLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUMvRCxhQUFhOztZQUVELElBQUksWUFBWSxLQUFLLE1BQU07WUFDM0I7Z0JBQ0ksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxXQUFXLENBQUMsY0FBYyxDQUFDLENBQUM7QUFDeEYsZ0JBQWdCLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7Z0JBRXJFLFlBQVksR0FBRyxNQUFNLENBQUM7Z0JBQ3RCLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDckMsZ0JBQWdCLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQzs7Z0JBRWhCLFNBQVMsQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLENBQUM7QUFDakQsYUFBYTs7QUFFYixZQUFZLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQzs7QUFFNUIsWUFBWSxTQUFTLENBQUMsV0FBVyxDQUFDLGtCQUFrQixDQUFDLENBQUM7O0FBRXRELFlBQVksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxjQUFjLEVBQUUsU0FBUyxDQUFDLENBQUM7O1lBRTdDLE9BQU8sQ0FBQyxDQUFDLENBQUM7QUFDdEIsU0FBUyxDQUFDLENBQUM7O1FBRUgsUUFBUSxDQUFDLFFBQVEsQ0FBQyxZQUFZO1lBQzFCLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ3pELFNBQVMsQ0FBQyxDQUFDOztRQUVILE1BQU0sQ0FBQyxLQUFLLENBQUMsV0FBVztZQUNwQixDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ3ZDLFNBQVMsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUM7U0FDakMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxZQUFZO1lBQ2pCLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO1lBQ2hELEVBQUUsQ0FBQyxXQUFXLENBQUMsY0FBYyxDQUFDLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLENBQUM7QUFDM0csU0FBUyxDQUFDLENBQUM7O0FBRVgsUUFBUSxNQUFNLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDOztRQUUxQixDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxVQUFVLENBQUMsRUFBRTtZQUNqQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDO1lBQ2hEO2dCQUNJLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDO2dCQUNwRCxTQUFTLENBQUMsV0FBVyxDQUFDLGtCQUFrQixDQUFDLENBQUM7QUFDMUQsZ0JBQWdCLFNBQVMsQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUM7O0FBRWpELGdCQUFnQixDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyxDQUFDLGNBQWMsRUFBRSxTQUFTLENBQUMsQ0FBQzs7Z0JBRTdDLElBQUksU0FBUyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQyxNQUFNO2dCQUMxQztvQkFDSSxTQUFTLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztpQkFDekQ7YUFDSjtTQUNKLENBQUMsQ0FBQztBQUNYLEtBQUs7O0FBRUwsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLFNBQVMsR0FBRyxXQUFXOztBQUVoQyxRQUFRLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVOztBQUVuQyxZQUFZLE9BQU8sQ0FBQyxTQUFTLE1BQU0sQ0FBQzs7QUFFcEMsZ0JBQWdCLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQzs7Z0JBRWhCLE1BQU0sQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLFVBQVU7b0JBQzNCLE1BQU0sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUM7b0JBQ25DLE1BQU0sQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7b0JBQzdCLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUNwQyxpQkFBaUIsQ0FBQyxDQUFDOztBQUVuQixhQUFhLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDOztBQUV2QixTQUFTLENBQUMsQ0FBQzs7S0FFTixDQUFDO0NBQ0wsRUFBRSxNQUFNLENBQUMsQ0FBQzs7QUM3Ulg7QUFDQSxlQUFlOztBQUVmLENBQUMsQ0FBQyxXQUFXLENBQUMsRUFBRSxNQUFNLEVBQUUsUUFBUSxHQUFHO0FBQ25DLENBQUMsWUFBWSxDQUFDOztDQUViLElBQUksUUFBUSxHQUFHLENBQUM7S0FDWixPQUFPLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQU0sRUFBRTtBQUNqQyxLQUFLLFNBQVMsQ0FBQzs7SUFFWCxDQUFDLENBQUMsRUFBRSxDQUFDLFFBQVEsR0FBRyxXQUFXLE9BQU8sR0FBRztBQUN6QyxRQUFRLE9BQU8sR0FBRyxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxPQUFPLEVBQUUsT0FBTyxFQUFFLENBQUM7O0FBRWpFLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7O1FBRW5DLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLE1BQU07RUFDaEQ7R0FDQyxDQUFDLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxTQUFTLEVBQUUsQ0FBQztBQUM3QixHQUFHOztFQUVELElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxNQUFNO0VBQ3pDO0dBQ0MsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFLENBQUM7QUFDM0IsTUFBTTs7S0FFRCxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxDQUFDLFVBQVU7R0FDN0IsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFLENBQUM7QUFDM0IsR0FBRyxDQUFDLENBQUM7O0tBRUEsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxVQUFVO0dBQzdCLENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLFNBQVMsRUFBRSxDQUFDO0dBQzFCLENBQUMsQ0FBQztBQUNMLEtBQUssQ0FBQzs7SUFFRixDQUFDLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxPQUFPLEdBQUc7UUFDcEIsS0FBSyxFQUFFLEVBQUU7UUFDVCxRQUFRLEVBQUUsRUFBRTtBQUNwQixLQUFLLENBQUM7O0NBRUwsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsU0FBUyxHQUFHLFdBQVc7RUFDcEMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxVQUFVO0dBQzFFLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sRUFBRTtJQUNuQixPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNmO1NBQ0ssQ0FBQyxDQUFDO0FBQ1gsRUFBRTs7SUFFRSxDQUFDLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxPQUFPLEdBQUcsV0FBVztBQUN2QyxFQUFFLFNBQVMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsU0FBUyxFQUFFLENBQUM7O0VBRWxDLENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLFVBQVU7QUFDL0MsR0FBRyxRQUFRLEdBQUcsU0FBUyxHQUFHLE9BQU8sQ0FBQzs7U0FFekIsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxJQUFJLFFBQVEsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDO1NBQ25FO1VBQ0MsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztVQUMzQjtNQUNKLENBQUMsQ0FBQztBQUNSLEVBQUU7O0FBRUYsQ0FBQyxHQUFHLE1BQU0sRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLENBQUM7O0FBRS9CLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQzs7QUM5RDFCO0FBQ0EsVUFBVTs7QUFFVixDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVc7Q0FDekIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztDQUNiLENBQUMsQ0FBQyIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIjsoIGZ1bmN0aW9uKCAkICkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHR3aW5kb3cuYm9keSA9ICQoJ2JvZHknKTtcblx0XG5cdHZhciBfdGhpcywgbGFiZWwsIHBsYWNlaG9sZGVyLCBfdGVtcGxhdGUsIG5hdmlnYXRpb24gPSAkKCcjbmF2aWdhdGlvbicpO1xuXG5cdCQuYXBwID0ge1xuXHRcdFxuXHRcdGluaXRTYW5kd2ljaDogZnVuY3Rpb24oKVxuXHRcdHtcblx0XHRcdHRoaXMuc2FuZHdpY2guaW5pdCh7XG5cdFx0XHRcdGtleUhvb2tzOiAhMCxcblx0XHRcdFx0c2VsZWN0b3I6ICcuanMtc2FuZHdpY2gtbWVudScsXG5cdFx0XHRcdHdyYXBwZXI6ICcubGF5b3V0LXdyYXBwZXInLFxuXHRcdFx0XHRvdmVybGF5OiAnI21lbnUtb3ZlcmxheSdcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRpbml0U2VsZWN0OiBmdW5jdGlvbigpXG5cdFx0e1xuXHRcdFx0JCgnc2VsZWN0Jykuc2VsZWN0Ym94KCk7XG5cblx0XHRcdGJvZHkub24oJ2NoYW5nZScsICcuanMtZm9ybS1zZWxlY3QnLCBmdW5jdGlvbihlKXtcblx0XHRcdFx0JCh0aGlzKS5jbG9zZXN0KCcuanMtZm9ybS1sYWJlbCcpLnJlbW92ZUNsYXNzKCdlcnJvcicpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGluaXRNYXNrOiBmdW5jdGlvbigpXG5cdFx0e1xuXHRcdFx0JChcIi5qcy1waG9uZS13YXRjaGVyXCIpLm1hc2soXCIrIDcgKDk5OSkgOTk5LTk5LTk5XCIpO1xuXHRcdH0sXG5cdFx0XG5cdFx0aW5pdEZhc3RjbGljazogZnVuY3Rpb24oKVxuXHRcdHtcblx0XHRcdEZhc3RDbGljay5hdHRhY2goZG9jdW1lbnQuYm9keSk7XG5cdFx0fSxcblxuXHRcdGluaXRQb3B1cDogZnVuY3Rpb24oKVxuXHRcdHtcblx0XHRcdCQucG9wdXAuaW5pdCgnLmpzLW9wZW4tcG9wdXAnLCB7XG5cdFx0XHRcdGNzc1Bvc2l0aW9uOiAhMCxcblx0XHRcdFx0d3JhcHBlcjogJy5sYXlvdXQtd3JhcHBlcidcblx0XHRcdH0pO1xuXG5cdFx0XHRib2R5Lm9uKCdwb3B1cC5hZnRlcl9vcGVuJywgZnVuY3Rpb24oZSwgcG9wdXApe1xuXHRcdFx0XHRfdGhpcy5wcmVsb2FkRm9ybShwb3B1cCwgJy5qcy1mb3JtLWlucHV0Jyk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0Y2hlY2tGb3JtOiBmdW5jdGlvbihlbGVtZW50LCBpc2VtcHR5KVxuXHRcdHtcblx0XHRcdGlmICghaXNlbXB0eSB8fCAoaXNlbXB0eSAmJiAkLnRyaW0oJChlbGVtZW50KS52YWwoKSkgPT0gJycpKVxuXHRcdFx0e1xuXHRcdFx0XHRsYWJlbCA9ICQoZWxlbWVudCkuY2xvc2VzdCgnLmpzLWZvcm0tbGFiZWwnKTtcblx0XHRcdFx0XG5cdFx0XHRcdGlmIChsYWJlbC5maW5kKCcuc2VsZWN0Ym94JykubGVuZ3RoICYmICQudHJpbSgkKGVsZW1lbnQpLnZhbCgpKSAhPT0gJycpXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRsYWJlbC5maW5kKCcuc2VsZWN0Ym94JykuYWRkQ2xhc3MoJ2lzLWNoZWNrZWQnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghbGFiZWwuZmluZCgnLmpzLWxhYmVsLW5hbWUnKS5sZW5ndGgpXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRpZiAoJChlbGVtZW50KS5oYXNDbGFzcygnanMtZm9ybS1zZWxlY3QnKSlcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRwbGFjZWhvbGRlciA9ICQoZWxlbWVudCkuZGF0YSgncGxhY2Vob2xkZXInKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRwbGFjZWhvbGRlciA9ICQoZWxlbWVudCkucHJvcCgncGxhY2Vob2xkZXInKTtcblx0XHRcdFx0XHRcdCQoZWxlbWVudCkucHJvcCgncGxhY2Vob2xkZXInLCAnJyk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKHBsYWNlaG9sZGVyLmluZGV4T2YoJyonKSA+PSAwKVxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdHBsYWNlaG9sZGVyID0gcGxhY2Vob2xkZXIucmVwbGFjZSgnKicsICc8c3BhbiBjbGFzcz1cImZvcm1fX2xhYmVsX19zdGFyXCI+Kjwvc3Bhbj4nKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRfdGVtcGxhdGUgPSAkKHRlbXBsYXRlKCd0bXBsLWZvcm0tbGFiZWwnLCB7IG5hbWU6IHBsYWNlaG9sZGVyIH0pKTtcblxuXHRcdFx0XHRcdGxhYmVsLmFwcGVuZChfdGVtcGxhdGUpO1xuXG5cdFx0XHRcdFx0aWYgKCQudHJpbSgkKGVsZW1lbnQpLnZhbCgpKSAhPT0gJycpXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0bGFiZWwuYWRkQ2xhc3MoJ2ZvY3VzJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdHByZWxvYWRGb3JtOiBmdW5jdGlvbihwYXJlbnQsIGNsYXNzX25hbWUpXG5cdFx0e1xuXHRcdFx0aWYgKCQocGFyZW50KS5maW5kKGNsYXNzX25hbWUpLmxlbmd0aClcblx0XHRcdHtcblx0XHRcdFx0JChwYXJlbnQpLmZpbmQoY2xhc3NfbmFtZSkuZWFjaChmdW5jdGlvbigpe1xuXHRcdFx0XHRcdF90aGlzLmNoZWNrRm9ybSgkKHRoaXMpLCAhMSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRpbml0Rm9ybTogZnVuY3Rpb24oKVxuXHRcdHtcblx0XHRcdF90aGlzID0gdGhpcztcblx0XHRcdFxuXHRcdFx0X3RoaXMucHJlbG9hZEZvcm0oJ2JvZHknLCAnLmpzLWZvcm0taW5wdXQnKTtcblxuXHRcdFx0Ym9keS5vbignZm9jdXMnLCAnLmpzLWZvcm0taW5wdXQnLCBmdW5jdGlvbihlKXtcblx0XHRcdFx0X3RoaXMuY2hlY2tGb3JtKCQodGhpcyksICExKTtcblx0XHRcdFx0JCh0aGlzKS5jbG9zZXN0KCcuanMtZm9ybS1sYWJlbCcpLmFkZENsYXNzKCdmb2N1cycpO1xuXHRcdFx0fSk7XG5cblx0XHRcdGJvZHkub24oJ3NlbGVjdC5vcGVuJywgZnVuY3Rpb24oZSwgc2VsZWN0KXtcblx0XHRcdFx0JChzZWxlY3QpLmNsb3Nlc3QoJy5qcy1mb3JtLWxhYmVsJykuYWRkQ2xhc3MoJ2ZvY3VzJyk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ym9keS5vbignc2VsZWN0LmNsb3NlJywgZnVuY3Rpb24oZSwgc2VsZWN0KXtcblx0XHRcdFx0dmFyICRzZWxlY3QgPSAkKHNlbGVjdCkuY2xvc2VzdCgnLmpzLWZvcm0tbGFiZWwnKS5maW5kKCcuanMtZm9ybS1zZWxlY3QnKTtcblx0XHRcdFx0XG5cdFx0XHRcdGlmICgkLnRyaW0oJHNlbGVjdC52YWwoKSkgPT0gJycpXG5cdFx0XHRcdHtcblx0XHRcdFx0XHQkKHNlbGVjdCkuY2xvc2VzdCgnLmpzLWZvcm0tbGFiZWwnKS5yZW1vdmVDbGFzcygnZm9jdXMnKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdGJvZHkub24oJ2NoYW5nZScsICcuanMtZm9ybS1zZWxlY3QnLCBmdW5jdGlvbihlKXtcblx0XHRcdFx0aWYgKCQudHJpbSgkKHRoaXMpLnZhbCgpKSA9PSAnJylcblx0XHRcdFx0e1xuXHRcdFx0XHRcdCQodGhpcykuY2xvc2VzdCgnLmpzLWZvcm0tbGFiZWwnKS5yZW1vdmVDbGFzcygnZm9jdXMnKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdGJvZHkub24oJ2JsdXInLCAnLmpzLWZvcm0taW5wdXQnLCBmdW5jdGlvbihlKXtcblx0XHRcdFx0aWYgKCQudHJpbSgkKHRoaXMpLnZhbCgpKSA9PSAnJylcblx0XHRcdFx0e1xuXHRcdFx0XHRcdCQodGhpcykuY2xvc2VzdCgnLmpzLWZvcm0tbGFiZWwnKS5yZW1vdmVDbGFzcygnZm9jdXMnKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGluaXRGYW5jeUJveDogZnVuY3Rpb24oKVxuXHRcdHtcblx0XHRcdGlmICghaXNfdW5kZWZpbmVkKCQuZm4uZmFuY3lib3gpKVxuXHRcdFx0e1xuXHRcdFx0XHQkKCcuZmFuY3lib3gnKS5mYW5jeWJveCgpO1xuXG5cdFx0XHRcdCQoJy5mYW5jeWJveC1tZWRpYScpLmZhbmN5Ym94KHtcblx0XHRcdFx0XHRvcGVuRWZmZWN0ICA6ICdub25lJyxcblx0XHRcdFx0XHRjbG9zZUVmZmVjdCA6ICdub25lJyxcblx0XHRcdFx0XHRoZWxwZXJzIDoge1xuXHRcdFx0XHRcdFx0bWVkaWEgOiB7fSxcblx0XHRcdFx0XHRcdG92ZXJsYXk6IHtcblx0XHRcdFx0XHRcdCAgbG9ja2VkOiBmYWxzZVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0JChcIi52YXJpb3VzXCIpLmZhbmN5Ym94KHtcblx0XHRcdFx0XHRtYXhXaWR0aFx0OiA4MDAsXG5cdFx0XHRcdFx0bWF4SGVpZ2h0XHQ6IDYwMCxcblx0XHRcdFx0XHRmaXRUb1ZpZXdcdDogZmFsc2UsXG5cdFx0XHRcdFx0d2lkdGhcdFx0OiAnNzAlJyxcblx0XHRcdFx0XHRoZWlnaHRcdFx0OiAnNzAlJyxcblx0XHRcdFx0XHRhdXRvU2l6ZVx0OiBmYWxzZSxcblx0XHRcdFx0XHRjbG9zZUNsaWNrXHQ6IGZhbHNlLFxuXHRcdFx0XHRcdG9wZW5FZmZlY3RcdDogJ25vbmUnLFxuXHRcdFx0XHRcdGNsb3NlRWZmZWN0XHQ6ICdub25lJyxcblx0XHRcdFx0XHRoZWxwZXJzOiB7XG5cdFx0XHRcdFx0XHRvdmVybGF5OiB7XG5cdFx0XHRcdFx0XHQgIGxvY2tlZDogZmFsc2Vcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRjYXJvdXNlbDogZnVuY3Rpb24oKVxuXHRcdHtcblx0XHRcdGlmICgkKCcjY2Fyb3VzZWwnKS5sZW5ndGggPiAwICYmICQoJyNjYXJvdXNlbCcpLmZpbmQoJy5jYXJvdXNlbF9faXRlbScpLmxlbmd0aCA+IDEpXG5cdFx0XHR7XG5cdFx0XHRcdCQoJyNjYXJvdXNlbCcpLnNsaWNrKHtcblx0XHRcdFx0XHRpbmZpbml0ZTogdHJ1ZSxcblx0XHRcdFx0XHRkb3RzOiBmYWxzZSxcblx0XHRcdFx0XHRkcmFnZ2FibGU6IHRydWUsXG5cdFx0XHRcdFx0c3BlZWQ6IDE3MCxcblx0XHRcdFx0XHRzbGlkZXNUb1Nob3c6IDUsXG5cdFx0ICBcdFx0XHRzbGlkZXNUb1Njcm9sbDogMSxcblx0XHRcdFx0XHRwcmV2QXJyb3c6ICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNhcm91c2VsX19uYXZpZ2F0aW9uIGNhcm91c2VsX19uYXZpZ2F0aW9uX3ByZXYgc2xpY2stcHJldlwiPjwvYnV0dG9uPicsXG5cdFx0XHRcdFx0bmV4dEFycm93OiAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjYXJvdXNlbF9fbmF2aWdhdGlvbiBjYXJvdXNlbF9fbmF2aWdhdGlvbl9uZXh0IHNsaWNrLW5leHRcIj48L2J1dHRvbj4nLFxuXHRcdFx0XHRcdHJlc3BvbnNpdmU6IFtcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0YnJlYWtwb2ludDogMTAyNCxcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3M6IHtcblx0XHRcdFx0XHRcdFx0XHRzbGlkZXNUb1Nob3c6IDNcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0YnJlYWtwb2ludDogNjAwLFxuXHRcdFx0XHRcdFx0XHRzZXR0aW5nczoge1xuXHRcdFx0XHRcdFx0XHRcdHNsaWRlc1RvU2hvdzogMlxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRicmVha3BvaW50OiA0ODAsXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzOiB7XG5cdFx0XHRcdFx0XHRcdFx0c2xpZGVzVG9TaG93OiAxXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRdXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRzbGlja1NpZGVyOiBmdW5jdGlvbigpXG5cdFx0e1xuXHRcdFx0aWYgKCQoJyNzbGlkZXInKS5sZW5ndGggPiAwICYmICQoJyNzbGlkZXInKS5maW5kKCcuc2xpZGVyX19pdGVtJykubGVuZ3RoID4gMSlcblx0XHRcdHtcblx0XHRcdFx0JCgnI3NsaWRlcicpLnNsaWNrKHtcblx0XHRcdFx0XHRpbmZpbml0ZTogdHJ1ZSxcblx0XHRcdFx0XHRkb3RzOiB0cnVlLFxuXHRcdFx0XHRcdGRyYWdnYWJsZTogZmFsc2UsXG5cdFx0XHRcdFx0c3BlZWQ6IDMwMCxcblx0XHRcdFx0XHRmYWRlOiB0cnVlLFxuXHRcdFx0XHRcdGF1dG9wbGF5OiB0cnVlLFxuXHRcdFx0XHRcdGF1dG9wbGF5U3BlZWQ6IDQ1MDAsXG5cdFx0XHRcdFx0cGF1c2VPbkhvdmVyOiBmYWxzZSxcblx0XHRcdFx0XHRjc3NFYXNlOiAnZWFzZScsXG5cdFx0XHRcdFx0cHJldkFycm93OiAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJzbGlkZXJfX25hdmlnYXRpb24gc2xpZGVyX19uYXZpZ2F0aW9uX3ByZXYgc2xpY2stcHJldlwiPjwvYnV0dG9uPicsXG5cdFx0XHRcdFx0bmV4dEFycm93OiAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJzbGlkZXJfX25hdmlnYXRpb24gc2xpZGVyX19uYXZpZ2F0aW9uX25leHQgc2xpY2stbmV4dFwiPjwvYnV0dG9uPidcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGRpc2FibGVIb3ZlcjogZnVuY3Rpb24oKVxuXHRcdHtcblx0XHRcdHZhciB0aW1lcjtcblx0XHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVyKTtcblx0XHRcdFx0XG5cdFx0XHRcdGlmKCFib2R5Lmhhc0NsYXNzKCdkaXNhYmxlLWhvdmVyJykpIHtcblx0XHRcdFx0XHRib2R5LmFkZENsYXNzKCdkaXNhYmxlLWhvdmVyJyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRib2R5LnJlbW92ZUNsYXNzKCdkaXNhYmxlLWhvdmVyJyk7XG5cdFx0XHRcdH0sNTAwKTtcblx0XHRcdH0sIGZhbHNlKTtcblx0XHR9LFxuXG5cdFx0bmF2Rml4ZWQ6IGZ1bmN0aW9uKHRvcClcblx0XHR7XG5cdFx0XHRpZiAodG9wID49IDkxKVxuXHRcdFx0e1xuXHRcdFx0XHRpZiAoIW5hdmlnYXRpb24uaGFzQ2xhc3MoJ2ZpeGVkJykpXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRuYXZpZ2F0aW9uLmFkZENsYXNzKCdmaXhlZCcpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0bmF2aWdhdGlvbi5yZW1vdmVDbGFzcygnZml4ZWQnKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0bmF2aWdhdGlvbjogZnVuY3Rpb24oKVxuXHRcdHtcblx0XHRcdHZhciBfdGhpcyA9IHRoaXMsIHN1Ym1lbnUgPSAkKCcjbmF2aWdhdGlvbi1zdWJtZW51Jyk7O1xuXG5cdFx0XHRfdGhpcy5uYXZGaXhlZCgkKHdpbmRvdykuc2Nyb2xsVG9wKCkpO1xuXG5cdFx0XHQkKHdpbmRvdykub24oJ3Njcm9sbCcsIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdF90aGlzLm5hdkZpeGVkKCQod2luZG93KS5zY3JvbGxUb3AoKSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ym9keS5vbignbW91c2VlbnRlcicsICcubmF2aWdhdGlvbl9faXRlbScsIGZ1bmN0aW9uKCl7XG5cblx0XHRcdFx0aWYgKCQod2luZG93KS53aWR0aCgpID4gOTYwKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0dmFyIGl0ZW0gPSAkKHRoaXMpLCBkaXYsIGhlaWdodDtcblxuXHRcdFx0XHRcdGlmIChpdGVtLmZpbmQoJy5zdWJtZW51JykubGVuZ3RoKVxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHRcdFx0ZGl2LmlkID0gJ3Rlc3QtZml4ZWQnO1xuXHRcdFx0XHRcdFx0ZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcblx0XHRcdFx0XHRcdGRpdi5zdHlsZS5iYWNncm91bmRDb2xvciA9ICcjZjAwJztcblx0XHRcdFx0XHRcdGRpdi5pbm5lckhUTUwgPSBpdGVtLmZpbmQoJy5zdWJtZW51JykuaHRtbCgpO1xuXG5cdFx0XHRcdFx0XHQkKGJvZHkpLmFwcGVuZChkaXYpO1xuXG5cdFx0XHRcdFx0XHRoZWlnaHQgPSAkKCcjdGVzdC1maXhlZCcpLm91dGVySGVpZ2h0KCk7XG5cblx0XHRcdFx0XHRcdCQoJyN0ZXN0LWZpeGVkJykucmVtb3ZlKCk7XG5cblx0XHRcdFx0XHRcdCQoJyNuYXZpZ2F0aW9uLXN1Ym1lbnUnKS5jc3Moe1xuXHRcdFx0XHRcdFx0XHQnaGVpZ2h0JzogaGVpZ2h0IC0gMzBcblx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRzdWJtZW51LmFkZENsYXNzKCdzaG93Jyk7XG5cdFx0XHRcdFx0XHRpdGVtLmZpbmQoJy5zdWJtZW51JykuYWRkQ2xhc3MoJ3Nob3cnKTtcblxuXHRcdFx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpe1xuXHRcdFx0XHRcdFx0XHRzdWJtZW51LmFkZENsYXNzKCdhY3RpdmUnKTtcblx0XHRcdFx0XHRcdFx0aXRlbS5maW5kKCcuc3VibWVudScpLmFkZENsYXNzKCdhY3RpdmUnKTtcblx0XHRcdFx0XHRcdH0sIDIwKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRib2R5Lm9uKCdtb3VzZWxlYXZlJywgJy5uYXZpZ2F0aW9uX19pdGVtJywgZnVuY3Rpb24oZSl7XG5cdFx0XHRcdHZhciBpdGVtID0gJCh0aGlzKTtcblxuXHRcdFx0XHRpZiAoJCh3aW5kb3cpLndpZHRoKCkgPiA5NjApXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRpZiAoaXRlbS5maW5kKCcuc3VibWVudScpLmxlbmd0aClcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRpdGVtLmZpbmQoJy5zdWJtZW51JykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXG5cdFx0XHRcdFx0XHRzdWJtZW51LnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblx0XHRcdFx0XHRcdHN1Ym1lbnUucmVtb3ZlQ2xhc3MoJ3Nob3cnKTtcblxuXHRcdFx0XHRcdFx0aXRlbS5maW5kKCcuc3VibWVudScpLnJlbW92ZUNsYXNzKCdzaG93Jyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdH0sXG5cblx0XHRpbml0RG9jdW1lbnRzOiBmdW5jdGlvbigpXG5cdFx0e1xuXHRcdFx0Ym9keS5vbignY2xpY2snLCAnLmpzLWRvYy10cmlnZ2VyJywgZnVuY3Rpb24oZSl7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0XHR2YXIgZG9jID0gJCh0aGlzKS5jbG9zZXN0KCcuZG9jJyk7XG5cdFx0XHRcdFxuXHRcdFx0XHRkb2MuZmluZCgnLmRvY19fY29udGVudCcpLnNsaWRlVG9nZ2xlKDMwMCwgZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRkb2MudG9nZ2xlQ2xhc3MoJ29wZW4nKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0cmV0dXJuICExO1xuXHRcdFx0fSk7XG5cblx0XHRcdGJvZHkub24oJ21vdXNlZW50ZXInLCAnLmpzLWRvYy1saW5rJywgZnVuY3Rpb24oKXtcblx0XHRcdFx0JCh0aGlzKS5jbG9zZXN0KCcuanMtZG9jLWl0ZW0nKS5hZGRDbGFzcygnaG92ZXInKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRib2R5Lm9uKCdtb3VzZWxlYXZlJywgJy5qcy1kb2MtbGluaycsIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdCQodGhpcykuY2xvc2VzdCgnLmpzLWRvYy1pdGVtJykucmVtb3ZlQ2xhc3MoJ2hvdmVyJyk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0aW5pdFNlYXJjaDogZnVuY3Rpb24oKVxuXHRcdHtcblx0XHRcdHZhciBfc2VhcmNoLCBfb3ZlcmxheSwgX2Zvcm07XG5cblx0XHRcdF9zZWFyY2ggPSAkKHRlbXBsYXRlKCd0bXBsLXNlYXJjaCcsIHt9KSk7XG5cdFx0XHRcblx0XHRcdGJvZHkuYXBwZW5kKF9zZWFyY2gpO1xuXHRcdFx0XG5cdFx0XHRfZm9ybSA9ICQoJyNzZWFyY2gtZm9ybScpO1xuXHRcdFx0X292ZXJsYXkgPSAkKCcjc2VhcmNoLW92ZXJsYXknKTtcblxuXHRcdFx0Ym9keS5vbignY2xpY2snLCAnLmpzLXNlYXJjaCcsIGZ1bmN0aW9uKGUpe1xuXHRcdFx0XHRpZiAoJCh3aW5kb3cpLndpZHRoKCkgPiA5NjApXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0X292ZXJsYXkuYWRkQ2xhc3MoJ3Zpc2libGUnKTtcblx0XHRcdFx0XHRfZm9ybS5hZGRDbGFzcygndmlzaWJsZScpO1xuXG5cdFx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpe1xuXHRcdFx0XHRcdFx0X292ZXJsYXkuYWRkQ2xhc3MoJ2FuaW1hdGUnKTtcblx0XHRcdFx0XHRcdF9mb3JtLmFkZENsYXNzKCdhbmltYXRlJyk7XG5cdFx0XHRcdFx0fSwgMTApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0Ym9keS5vbignY2xpY2snLCAnI3NlYXJjaC1vdmVybGF5JywgZnVuY3Rpb24oKXtcblx0XHRcdFx0X292ZXJsYXkucmVtb3ZlQ2xhc3MoJ2FuaW1hdGUnKTtcblx0XHRcdFx0X2Zvcm0ucmVtb3ZlQ2xhc3MoJ2FuaW1hdGUnKTtcblxuXHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0X292ZXJsYXkucmVtb3ZlQ2xhc3MoJ3Zpc2libGUnKTtcblx0XHRcdFx0XHRfZm9ybS5yZW1vdmVDbGFzcygndmlzaWJsZScpO1xuXHRcdFx0XHR9LCA0MDApO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGluaXROYXY6IGZ1bmN0aW9uKClcblx0XHR7XG5cdFx0XHRib2R5Lm9uKCdjbGljaycsICcubmF2aWdhdGlvbl9fbGluaycsIGZ1bmN0aW9uKGUpe1xuXHRcdFx0XHRpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCA5NjApXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRpZiAoJCh0aGlzKS5jbG9zZXN0KCcubmF2aWdhdGlvbl9faXRlbV9kcm9wZG93bicpLmxlbmd0aClcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHQkKHRoaXMpLmNsb3Nlc3QoJy5uYXZpZ2F0aW9uX19pdGVtX2Ryb3Bkb3duJykudG9nZ2xlQ2xhc3MoJ29wZW4nKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRib2R5Lm9uKCdjbGljaycsICcuc3VibWVudV9faXRlbV9fbGluaycsIGZ1bmN0aW9uKGUpe1xuXHRcdFx0XHRpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCA5NjApXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRpZiAoJCh0aGlzKS5jbG9zZXN0KCcuc3VibWVudV9faXRlbV9kcm9wZG93bicpLmxlbmd0aClcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHQkKHRoaXMpLmNsb3Nlc3QoJy5zdWJtZW51X19pdGVtX2Ryb3Bkb3duJykudG9nZ2xlQ2xhc3MoJ29wZW4nKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRpbml0OiBmdW5jdGlvbigpXG5cdFx0e1xuXHRcdFx0dGhpcy5kaXNhYmxlSG92ZXIoKTtcblxuXHRcdFx0dGhpcy5pbml0RmFzdGNsaWNrKCk7XG5cdFx0XHR0aGlzLmluaXRGYW5jeUJveCgpO1xuXG5cdFx0XHR0aGlzLmluaXROYXYoKTtcblx0XHRcdHRoaXMuaW5pdEZvcm0oKTtcblxuXHRcdFx0dGhpcy5pbml0UG9wdXAoKTtcblx0XHRcdHRoaXMuaW5pdE1hc2soKTtcblx0XHRcdHRoaXMuaW5pdFNlbGVjdCgpO1xuXHRcdFx0dGhpcy5pbml0U2FuZHdpY2goKTtcblx0XHRcdHRoaXMuaW5pdERvY3VtZW50cygpO1xuXHRcdFx0dGhpcy5pbml0U2VhcmNoKCk7XG5cblx0XHRcdHRoaXMuc2xpY2tTaWRlcigpO1xuXHRcdFx0dGhpcy5jYXJvdXNlbCgpO1xuXHRcdFx0dGhpcy5uYXZpZ2F0aW9uKCk7XG5cblx0XHRcdCQuYXBwLmFqYXhGb3JtLmluaXQoKTtcblx0XHR9XG5cblx0fTtcblxufSkoIGpRdWVyeSApOyIsIjsoIGZ1bmN0aW9uKCAkICkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHQkLmFwcCA9ICQuYXBwID0gJC5hcHAgfHwge307XG5cblx0dmFyIGJvZHkgPSAkKCdib2R5JyksIF90aGlzO1xuXG5cdCQuYXBwLmFqYXhGb3JtID0ge1xuXG5cdFx0Y29uZmlnOiB7XG5cdFx0XHRmb3JtX2NsYXNzOiAnLmZvcm0tYWpheCcsXG5cdFx0XHRsaW5rX2NsYXNzOiAnLmpzLXJlcXVlc3QtbGluaycsXG5cdFx0XHRlcnJvcl9jbGFzczogJ2Vycm9yJyxcblx0XHRcdGVycm9yX21lc3NhZ2U6ICdmb3JtX19lcnJvci1tZXNzYWdlJyxcblx0XHRcdGZvcm1fbGFiZWw6ICdmb3JtX19sYWJlbCcsXG5cdFx0XHRjaGVja2JveF9sYWJlbDogJ2NvbnRyb2wnXG5cdFx0fSxcblxuXHRcdGNhbGxiYWNrX3N0YWNrOiB7fSxcblxuXHRcdGV4dGVuZDogZnVuY3Rpb24oY29uZmlnKVxuXHRcdHtcblx0XHRcdF90aGlzID0gdGhpcztcblxuXHRcdFx0aWYgKHR5cGVvZiBjb25maWcgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICBcdHtcbiAgICAgICAgXHRcdHZhciB4O1xuICAgICAgICBcdFx0Zm9yICh4IGluIGNvbmZpZylcbiAgICAgICAgXHRcdHtcbiAgICAgICAgXHRcdFx0aWYgKHR5cGVvZiBfdGhpcy5jb25maWdbeF0gIT09ICd1bmRlZmluZWQnKVxuICAgICAgICBcdFx0XHRcdF90aGlzLmNvbmZpZ1t4XSA9IGNvbmZpZ1t4XTtcbiAgICAgICAgXHRcdH1cbiAgICAgICAgXHR9XG5cdFx0fSxcblxuXHRcdGRlZmF1bHRfaGFuZGxlcjogZnVuY3Rpb24oZm9ybSwgcmVzcG9uc2UpXG5cdFx0e1xuXHRcdFx0X3RoaXMgPSB0aGlzO1xuXG5cdFx0ICAgIGlmIChyZXNwb25zZS5zdGF0dXMpXG5cdFx0ICAgIHtcblx0XHQgICAgICAgIGlmIChyZXNwb25zZS5oYXNPd25Qcm9wZXJ0eSgncmVkaXJlY3RfdXJsJykpXG5cdFx0ICAgICAgICB7XG5cdFx0ICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSByZXNwb25zZS5yZWRpcmVjdF91cmw7XG5cdFx0ICAgICAgICB9XG5cdFx0ICAgIH1cblx0XHQgICAgZWxzZSBpZiAocmVzcG9uc2UuZXJyb3JzKVxuXHRcdCAgICB7XG5cdFx0ICAgICAgICBfdGhpcy52YWxpZGF0aW9uKGZvcm0sIHJlc3BvbnNlLmVycm9ycyk7XG5cdFx0ICAgIH1cblx0XHQgICAgXG5cdFx0ICAgIGlmIChyZXNwb25zZS5oYXNPd25Qcm9wZXJ0eSgnbWVzc2FnZScpICYmIHJlc3BvbnNlLm1lc3NhZ2UgIT09ICcnKVxuXHRcdCAgICB7XG5cdFx0ICAgIFx0aWYgKGZvcm0uZmluZCgnLmpzLWZvcm0tcmVzdWx0JykubGVuZ3RoKVxuXHRcdCAgICBcdHtcblx0XHQgICAgXHRcdGZvcm0uZmluZCgnLmpzLWZvcm0tcmVzdWx0JykuYXBwZW5kKHRlbXBsYXRlKCd0bXBsLWZvcm0tc3VjY2VzcycsIHsgbWVzc2FnZTogcmVzcG9uc2UubWVzc2FnZSB9KSk7XG5cdFx0ICAgIFx0XHRmb3JtLmZpbmQoJy5qcy1mb3JtLXJlc3VsdCcpLmFkZENsYXNzKCdhY3RpdmUnKTtcblx0XHQgICAgXHR9XG5cdFx0ICAgIFx0XG5cdFx0ICAgIFx0aWYgKGZvcm0uZmluZCgnLmpzLWZvcm0tYnV0dG9uJykubGVuZ3RoKVxuXHRcdCAgICBcdHtcblx0XHQgICAgXHRcdGZvcm0uZmluZCgnLmpzLWZvcm0tYnV0dG9uJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXHRcdCAgICBcdH1cblx0XHQgICAgfVxuXHRcdH0sXG5cblx0XHR2YWxpZGF0aW9uOiBmdW5jdGlvbihmb3JtLCBlcnJvcnMpXG5cdFx0e1xuXHRcdFx0X3RoaXMgPSB0aGlzO1xuXG5cdFx0ICAgIGZvcm0uZmluZCgnLicgKyBfdGhpcy5jb25maWcuZXJyb3JfY2xhc3MpLnJlbW92ZUNsYXNzKF90aGlzLmNvbmZpZy5lcnJvcl9jbGFzcyk7XG5cdFx0ICAgIGZvcm0uZmluZCgnLicgKyBfdGhpcy5jb25maWcuZXJyb3JfbWVzc2FnZSkucmVtb3ZlKCk7XG5cdFx0ICAgIFxuXHRcdCAgICB2YXIgZmllbGROYW1lLCBmaWVsZDtcblxuXHRcdCAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0ICAgIGlmIChlcnJvcnMpXG5cdFx0XHQgICAge1xuXHRcdFx0ICAgICAgIFx0Zm9yKGZpZWxkTmFtZSBpbiBlcnJvcnMpXG5cdFx0XHQgICAgICAgIHtcblx0XHRcdFx0XHRcdC8vIGlmIChmb3JtLmZpbmQoJ2lucHV0W25hbWU9XCInK2ZpZWxkTmFtZSsnXCJdJykubGVuZ3RoID4gMClcblx0XHRcdFx0XHRcdC8vIHtcblx0XHRcdFx0XHRcdC8vIFx0ZmllbGQgPSBmb3JtLmZpbmQoJ2lucHV0W25hbWU9XCInK2ZpZWxkTmFtZSsnXCJdJyk7XG5cdFx0XHRcdFx0XHQvLyB9XG5cblx0XHRcdFx0XHRcdC8vIGlmIChmb3JtLmZpbmQoJ3NlbGVjdFtuYW1lPVwiJytmaWVsZE5hbWUrJ1wiXScpLmxlbmd0aCA+IDApXG5cdFx0XHRcdFx0XHQvLyB7XG5cdFx0XHRcdFx0XHQvLyBcdGZpZWxkID0gZm9ybS5maW5kKCdzZWxlY3RbbmFtZT1cIicrZmllbGROYW1lKydcIl0nKTtcblx0XHRcdFx0XHRcdC8vIH1cblxuXHRcdFx0XHRcdFx0Ly8gaWYgKGZvcm0uZmluZCgndGV4dGFyZWFbbmFtZT1cIicrZmllbGROYW1lKydcIl0nKS5sZW5ndGggPiAwKVxuXHRcdFx0XHRcdFx0Ly8ge1xuXHRcdFx0XHRcdFx0Ly8gXHRmaWVsZCA9IGZvcm0uZmluZCgndGV4dGFyZWFbbmFtZT1cIicrZmllbGROYW1lKydcIl0nKTtcblx0XHRcdFx0XHRcdC8vIH1cblxuXHRcdFx0XHRcdFx0ZmllbGQgPSBmb3JtLmZpbmQoJ1tuYW1lPVwiJytmaWVsZE5hbWUrJ1wiXScpLmNsb3Nlc3QoJy4nICsgX3RoaXMuY29uZmlnLmZvcm1fbGFiZWwpO1xuXG5cdFx0XHQgICAgICAgICAgICBpZiAoZm9ybS5maW5kKCdbbmFtZT1cIicrZmllbGROYW1lKydcIl0nKS5jbG9zZXN0KCcuJyArIF90aGlzLmNvbmZpZy5jaGVja2JveF9sYWJlbCkubGVuZ3RoKVxuXHRcdFx0ICAgICAgICAgICAge1xuXHRcdFx0ICAgICAgICAgICAgICAgIGZpZWxkID0gZm9ybS5maW5kKCdbbmFtZT1cIicrZmllbGROYW1lKydcIl0nKS5jbG9zZXN0KCcuJyArIF90aGlzLmNvbmZpZy5jaGVja2JveF9sYWJlbCk7XG5cdFx0XHQgICAgICAgICAgICB9XG5cblx0XHRcdCAgICAgICAgICAgIGlmICh0eXBlb2YgZmllbGQgIT09ICd1bmRlZmluZWQnKVxuXHRcdFx0ICAgICAgICAgICAge1xuXHRcdCAgICAgICAgICAgICAgICBcdGZpZWxkLmFkZENsYXNzKF90aGlzLmNvbmZpZy5lcnJvcl9jbGFzcyk7XG5cdFx0ICAgICAgICAgICAgICAgIFx0ZmllbGQuY2xvc2VzdCgnLicrX3RoaXMuY29uZmlnLmZvcm1fbGFiZWwpLmFwcGVuZCgnPGRpdiBjbGFzcz1cIicgKyBfdGhpcy5jb25maWcuZXJyb3JfbWVzc2FnZSArICdcIj4nICsgZXJyb3JzW2ZpZWxkTmFtZV0gKyAnPC9kaXY+Jyk7XG5cdFx0ICAgICAgICAgICAgICAgIH1cblx0XHRcdCAgICAgICAgfVxuXHRcdFx0ICAgIH1cblx0XHQgICAgfSwgMTApO1xuXHRcdH0sXG5cblx0XHR1cGxvYWQ6IGZ1bmN0aW9uKClcblx0XHR7XG5cdFx0XHRfdGhpcyA9IHRoaXM7XG5cblx0XHQgICAgYm9keS5vbignc3VibWl0JywgJy5mb3JtLWZpbGUtdXBsb2FkJywgZnVuY3Rpb24oZSkge1xuXHRcdCAgICAgICAgcmV0dXJuIEFJTS5zdWJtaXQodGhpcywge1xuXHRcdCAgICAgICAgICAgIG9uU3RhcnQ6IGZ1bmN0aW9uKClcblx0XHQgICAgICAgICAgICB7XG5cblx0XHQgICAgICAgICAgICB9LFxuXHRcdCAgICAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uKHJlc3VsdClcblx0XHQgICAgICAgICAgICB7XG5cdFx0ICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09PSAnb2JqZWN0JyAmJiByZXN1bHQuc3RhdHVzID09PSB0cnVlICYmIHJlc3VsdC5oYXNPd25Qcm9wZXJ0eSgncGhvdG9fdXJsJykpXG5cdFx0ICAgICAgICAgICAgICAgIHtcblxuXHRcdCAgICAgICAgICAgICAgICB9XG5cdFx0ICAgICAgICAgICAgfVxuXHRcdCAgICAgICAgfSk7XG5cdFx0ICAgIH0pO1xuXHRcdCAgICBcblx0XHQgICAgJChkb2N1bWVudCkub24oJ2NoYW5nZScsICcudXBsb2FkX2J1dHRvbl9vbmNoYW5nZScsIGZ1bmN0aW9uKCl7XG5cdFx0ICAgICAgICBpZiAoJCh0aGlzKS5jbG9zZXN0KCcudXBsb2FkX2J1dHRvbicpLmZpbmQoJy51cGxvYWRfYnV0dG9uX2ZpZWxkJykubGVuZ3RoID4gMClcblx0XHQgICAgICAgIHtcblx0XHQgICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJy51cGxvYWRfYnV0dG9uJykuZmluZCgnLnVwbG9hZF9idXR0b25fZmllbGQnKS5odG1sKCQodGhpcykudmFsKCkpO1xuXHRcdCAgICAgICAgfVxuXHRcdCAgICB9KTtcblx0XHR9LFxuXG5cdFx0c2VuZDogZnVuY3Rpb24oYWN0aW9uLCBtZXRob2QsIGRhdGEsIGNiLCBlcnIpXG5cdFx0e1xuXG5cdFx0XHRpZiAodHlwZW9mIGNiICE9PSAnZnVuY3Rpb24nKVxuXHRcdFx0e1xuXHRcdFx0XHRjYiA9IGZ1bmN0aW9uKCkge307XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0eXBlb2YgZXJyICE9PSAnZnVuY3Rpb24nKVxuXHRcdFx0e1xuXHRcdFx0XHRlcnIgPSBmdW5jdGlvbigpIHt9O1xuXHRcdFx0fVxuXG5cdFx0XHR0cnkge1xuXHRcdCAgIFx0XG5cdFx0ICAgXHRcdCQuYWpheCh7XG5cdFx0ICAgICAgICAgICAgdXJsOiBhY3Rpb24sXG5cdFx0ICAgICAgICAgICAgdHlwZTogbWV0aG9kLFxuXHRcdCAgICAgICAgICAgIGRhdGE6IGRhdGEsXG5cdFx0ICAgICAgICAgICAgY29udGVudFR5cGU6IGZhbHNlLFxuXHRcdFx0XHRcdHByb2Nlc3NEYXRhOiBtZXRob2QudG9Mb3dlckNhc2UoKSA9PSAnZ2V0Jyxcblx0XHQgICAgICAgICAgICBzdWNjZXNzOiBjYixcblx0XHQgICAgICAgICAgICBlcnJvcjogZXJyLFxuXHRcdCAgICAgICAgICAgIGRhdGFUeXBlOiAnSlNPTidcblx0XHRcdFx0fSk7XG5cblx0XHQgICAgfSBjYXRjaChlKXt9XG5cblx0XHR9LFxuXG5cdFx0aW5pdExpbms6IGZ1bmN0aW9uKClcblx0XHR7XG5cdFx0XHRfdGhpcyA9IHRoaXM7XG5cblx0XHRcdGJvZHkub24oJ3N1Ym1pdCcsIF90aGlzLmNvbmZpZy5mb3JtX2NsYXNzLCBmdW5jdGlvbihlKSB7XG5cdFx0ICAgICAgICBlLnByZXZlbnREZWZhdWx0ID8gZS5wcmV2ZW50RGVmYXVsdCgpIDogZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuXHQgICAgICAgXHRcdFxuXHQgICAgICAgXHRcdHZhciBsaW5rID0gJCh0aGlzKTtcblxuXHQgICAgICAgXHRcdGlmIChsaW5rLmRhdGEoJ2lzLWJ1c3knKSkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGxpbmsuZGF0YSgnaXMtYnVzeScsIHRydWUpO1xuXG5cdCAgICAgICBcdFx0dmFyIGFjdGlvbiA9ICgkKHRoaXMpLmF0dHIoJ2hyZWYnKSkgfHwgJCh0aGlzKS5kYXRhKCdhY3Rpb24nKSxcblx0ICAgICAgIFx0XHRcdG1ldGhvZCA9ICgkKHRoaXMpLmRhdGEoJ21ldGhvZCcpKSB8fCAnZ2V0Jyxcblx0ICAgICAgIFx0XHRcdGRhdGEgPSB7fTtcblxuXHQgICAgICAgXHRcdF90aGlzLnNlbmQoXG5cdCAgICAgICAgXHRcdGFjdGlvbixcblx0ICAgICAgICBcdFx0bWV0aG9kLFxuXHQgICAgICAgIFx0XHRkYXRhLFxuXHRcdCAgICAgICAgXHRmdW5jdGlvbihyZXNwb25zZSlcblx0XHQgICAgICAgIFx0e1xuXHRcdCAgICAgICAgICAgIFx0aWYgKGxpbmsuZGF0YSgnY2FsbGJhY2snKSAmJiBfdGhpcy5jYWxsYmFja19zdGFjay5oYXNPd25Qcm9wZXJ0eShsaW5rLmRhdGEoJ2NhbGxiYWNrJykpKVxuXHRcdCAgICAgICAgICAgICAgICB7XG5cdFx0ICAgICAgICAgICAgICAgICAgICBfdGhpcy5jYWxsYmFja19zdGFja1tsaW5rLmRhdGEoJ2NhbGxiYWNrJyldKGxpbmssIHJlc3BvbnNlKTtcblx0XHQgICAgICAgICAgICAgICAgfVxuXHRcdCAgICAgICAgICAgICAgICBlbHNlXG5cdFx0ICAgICAgICAgICAgICAgIHtcblx0XHQgICAgICAgICAgICAgICAgICAgIF90aGlzLmRlZmF1bHRfaGFuZGxlcihsaW5rLCByZXNwb25zZSk7XG5cdFx0ICAgICAgICAgICAgICAgIH1cblxuXHRcdCAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSB0cnVlKVxuXHRcdCAgICAgICAgICAgICAgICB7XG5cdFx0XHRcdFx0XHRcdFxuXHRcdCAgICAgICAgICAgICAgICB9XG5cblx0XHQgICAgICAgICAgICBcdGxpbmsuZGF0YSgnaXMtYnVzeScsIGZhbHNlKTtcblx0XHQgICAgICAgICAgICB9LFxuXHRcdCAgICAgICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKVxuXHRcdCAgICAgICAgICAgIHtcblx0XHQgICAgICAgICAgICAgICAgX3RoaXMuZGVmYXVsdF9oYW5kbGVyKGxpbmssIHJlc3BvbnNlKTtcblx0XHQgICAgICAgICAgICAgICAgbGluay5kYXRhKCdpcy1idXN5JywgZmFsc2UpO1xuXHRcdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgIFx0fSk7XG5cdFx0fSxcblxuXHRcdGluaXRGb3JtOiBmdW5jdGlvbigpXG5cdFx0e1xuXHRcdFx0X3RoaXMgPSB0aGlzO1xuXG5cdFx0XHRib2R5Lm9uKCdzdWJtaXQnLCBfdGhpcy5jb25maWcuZm9ybV9jbGFzcywgZnVuY3Rpb24oZSkge1xuXHRcdCAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCA/IGUucHJldmVudERlZmF1bHQoKSA6IGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcblxuXHRcdCAgICAgICAgdmFyIGZvcm0gXHQ9ICQodGhpcyksXG5cdFx0ICAgICAgICBcdGFjdGlvblx0PSBmb3JtLmF0dHIoJ2FjdGlvbicpLFxuXHQgICAgICAgICAgICBcdG1ldGhvZFx0PSAoZm9ybS5hdHRyKCdtZXRob2QnKSB8fCAncG9zdCcpLFxuXHQgICAgICAgICAgICBcdGRhdGEgXHQ9ICEhd2luZG93LkZvcm1EYXRhID8gbmV3IEZvcm1EYXRhKGZvcm1bMF0pIDogZm9ybS5zZXJpYWxpemUoKTtcblxuXHRcdFx0XHRpZiAoZm9ybS5kYXRhKCdpcy1idXN5JykpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmb3JtLmRhdGEoJ2lzLWJ1c3knLCB0cnVlKTtcblxuXHRcdFx0XHRpZiAoZm9ybS5kYXRhKCdwcmVjYWxsYmFjaycpICYmIF90aGlzLmNhbGxiYWNrX3N0YWNrLmhhc093blByb3BlcnR5KGZvcm0uZGF0YSgncHJlY2FsbGJhY2snKSkpIHtcblx0XHRcdFx0XHRpZighX3RoaXMuY2FsbGJhY2tfc3RhY2tbZm9ybS5kYXRhKCdwcmVjYWxsYmFjaycpXShmb3JtKSlcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHQgICAgICAgIF90aGlzLnNlbmQoXG5cdCAgICAgICAgXHRcdGFjdGlvbixcblx0ICAgICAgICBcdFx0bWV0aG9kLFxuXHQgICAgICAgIFx0XHRkYXRhLFxuXHRcdCAgICAgICAgXHRmdW5jdGlvbihyZXNwb25zZSlcblx0XHQgICAgICAgIFx0e1xuXHRcdCAgICAgICAgICAgIFx0aWYgKGZvcm0uZGF0YSgnY2FsbGJhY2snKSAmJiBfdGhpcy5jYWxsYmFja19zdGFjay5oYXNPd25Qcm9wZXJ0eShmb3JtLmRhdGEoJ2NhbGxiYWNrJykpKVxuXHRcdCAgICAgICAgICAgICAgICB7XG5cdFx0ICAgICAgICAgICAgICAgICAgICBfdGhpcy5jYWxsYmFja19zdGFja1tmb3JtLmRhdGEoJ2NhbGxiYWNrJyldKGZvcm0sIHJlc3BvbnNlKTtcblx0XHQgICAgICAgICAgICAgICAgfVxuXHRcdCAgICAgICAgICAgICAgICBlbHNlXG5cdFx0ICAgICAgICAgICAgICAgIHtcblx0XHQgICAgICAgICAgICAgICAgICAgIF90aGlzLmRlZmF1bHRfaGFuZGxlcihmb3JtLCByZXNwb25zZSk7XG5cdFx0ICAgICAgICAgICAgICAgIH1cblxuXHRcdCAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSB0cnVlKVxuXHRcdCAgICAgICAgICAgICAgICB7XG5cdFx0XHRcdFx0XHRcdFxuXHRcdCAgICAgICAgICAgICAgICB9XG5cblx0XHQgICAgICAgICAgICBcdGZvcm0uZGF0YSgnaXMtYnVzeScsIGZhbHNlKTtcblx0XHQgICAgICAgICAgICB9LFxuXHRcdCAgICAgICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKVxuXHRcdCAgICAgICAgICAgIHtcblx0XHQgICAgICAgICAgICAgICAgX3RoaXMuZGVmYXVsdF9oYW5kbGVyKGZvcm0sIHJlc3BvbnNlKTtcblx0XHQgICAgICAgICAgICAgICAgZm9ybS5kYXRhKCdpcy1idXN5JywgZmFsc2UpO1xuXHRcdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgKTtcblx0XHQgICAgfSk7XG5cdFx0fSxcblxuXHRcdHJlbW92ZUVycm9yOiBmdW5jdGlvbigpXG5cdFx0e1xuXHRcdFx0X3RoaXMgPSB0aGlzO1xuXG5cdFx0XHQkKCdib2R5Jykub24oJ2ZvY3VzLCBjbGljaycsICcuanMtZm9ybS1pbnB1dCcsIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdCQodGhpcykuY2xvc2VzdCgnLicgKyBfdGhpcy5jb25maWcuZm9ybV9sYWJlbCkucmVtb3ZlQ2xhc3MoX3RoaXMuY29uZmlnLmVycm9yX2NsYXNzKTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRpbml0OiBmdW5jdGlvbihjb25maWcpXG5cdFx0e1xuXHRcdFx0dGhpcy5leHRlbmQoY29uZmlnKTtcblx0XHRcdFxuXHRcdFx0dGhpcy5pbml0Rm9ybSgpO1xuXHRcdFx0dGhpcy5pbml0TGluaygpO1xuXHRcdFx0dGhpcy5yZW1vdmVFcnJvcigpO1xuXHRcdH1cblxuXHR9O1xuXG59KSggalF1ZXJ5ICk7IiwiOyhmdW5jdGlvbiAoJCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHQkLmFwcCA9ICQuYXBwID0gJC5hcHAgfHwge307XG5cblx0JC5hcHAubWFwID0ge1xuXHRcdFxuXHRcdGNvbmZpZzoge1xuXHRcdFx0Y29vcmRzOiB7XG5cdFx0XHRcdGxhdDogNDUuMDY0NDAwLFxuXHRcdFx0XHRsb246IDM4Ljk1Mzg5MlxuXHRcdFx0fSxcblx0XHRcdGNvbnRhaW5lcjogJ21hcC1sYXllcidcblx0XHR9LFxuXG5cdFx0cmVzaXplOiBmdW5jdGlvbigpXG5cdFx0e1xuXHRcdFx0JChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmNvbmZpZy5jb250YWluZXIpKS5oZWlnaHQoJCh3aW5kb3cpLmhlaWdodCgpIC0gJCgnI2hlYWRlcicpLmhlaWdodCgpKTtcblx0XHR9LFxuXG5cdFx0Z29vZ2xlOiBmdW5jdGlvbigpXG5cdFx0e1xuXHRcdFx0dmFyIG1hcE9wdGlvbnMgPSB7XG5cdFx0XHRcdHpvb206IDE3LFxuXHRcdFx0XHR6b29tQ29udHJvbDogITEsXG5cdFx0XHRcdHBhbkNvbnRyb2w6ICExLFxuXHRcdFx0XHRzY3JvbGx3aGVlbDogITEsXG5cdFx0XHRcdG5hdmlnYXRpb25Db250cm9sOiAhMSxcblx0XHRcdFx0bWFwVHlwZUNvbnRyb2w6ICExLFxuXHRcdFx0XHRzY2FsZUNvbnRyb2w6ICExLFxuXHRcdFx0XHRkcmFnZ2FibGU6ICEwLFxuXHRcdFx0XHRkaXNhYmxlRG91YmxlQ2xpY2tab29tOiAhMSxcblx0XHQgICAgICAgIHN0cmVldFZpZXdDb250cm9sOiAhMSxcblx0XHQgICAgICAgIG92ZXJ2aWV3TWFwQ29udHJvbDogITEsXG5cdFx0ICAgIFx0Y2VudGVyOiBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKHRoaXMuY29uZmlnLmNvb3Jkcy5sYXQsIHRoaXMuY29uZmlnLmNvb3Jkcy5sb24pXG5cdFx0XHR9O1xuXHRcdCAgICBcblx0XHQgICAgdmFyIGltYWdlID0ge1xuXHRcdCAgICAgICAgdXJsOiAnLi9pbWFnZXMvbWFya2VyQDJ4LnBuZycsXG5cdFx0ICAgICAgICBzaXplOiBuZXcgZ29vZ2xlLm1hcHMuU2l6ZSgzMiwgMzIpLFxuXHRcdCAgICAgICAgb3JpZ2luOiBuZXcgZ29vZ2xlLm1hcHMuUG9pbnQoMCwgMCksXG5cdFx0ICAgICAgICBzY2FsZWRTaXplOiBuZXcgZ29vZ2xlLm1hcHMuU2l6ZSgzMiwgMzIpLFxuXHRcdCAgICAgICAgYW5jaG9yOiBuZXcgZ29vZ2xlLm1hcHMuUG9pbnQoMzIsIDMyKVxuXHRcdCAgICB9O1xuXG5cdFx0ICAgIHZhciBtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuY29uZmlnLmNvbnRhaW5lciksIG1hcE9wdGlvbnMpO1xuXHRcdCAgICB2YXIgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XG5cdFx0ICAgICAgICBwb3NpdGlvbjogbmV3IGdvb2dsZS5tYXBzLkxhdExuZyh0aGlzLmNvbmZpZy5jb29yZHMubGF0LCB0aGlzLmNvbmZpZy5jb29yZHMubG9uKSxcblx0XHQgICAgICAgIG1hcDogbWFwLFxuXHRcdCAgICAgICAgaWNvbjogaW1hZ2UsXG5cdFx0ICAgICAgICBmbGF0OiB0cnVlLFxuXHRcdCAgICAgICAgdGl0bGU6ICfQsy4g0JzQvtGB0LrQstCwLCDQotC10YHRgdC40L3RgdC60LjQuSDQv9C10YDQtdGD0LvQvtC6LCDQstC7LiAyLTYsIDE5J1xuXHRcdCAgICB9KTtcblxuXHRcdCAgICBmdW5jdGlvbiB0b2dnbGVCb3VuY2UoKVxuXHRcdCAgICB7XG5cdFx0ICAgIFx0aWYgKG1hcmtlci5nZXRBbmltYXRpb24oKSAhPT0gbnVsbCkge1xuXHRcdFx0XHRcdG1hcmtlci5zZXRBbmltYXRpb24obnVsbCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bWFya2VyLnNldEFuaW1hdGlvbihnb29nbGUubWFwcy5BbmltYXRpb24uQk9VTkNFKTtcblxuXHRcdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRcdG1hcmtlci5zZXRBbmltYXRpb24obnVsbCk7XG5cdFx0XHRcdFx0fSwgMjAwMCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdCAgICBtYXJrZXIuYWRkTGlzdGVuZXIoJ2NsaWNrJywgdG9nZ2xlQm91bmNlKTtcblx0XHR9LFxuXG5cdFx0aW5pdDogZnVuY3Rpb24oKVxuXHRcdHtcblx0XHRcdCQuYXBwLm1hcC5yZXNpemUoKTtcblx0XHRcdCQuYXBwLm1hcC5nb29nbGUoKTtcblxuXHRcdFx0dmFyIHRpbWVvdXQ7XG5cblx0XHRcdCQod2luZG93KS5vbigncmVzaXplJywgZnVuY3Rpb24oKXtcblx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuXHRcdFx0XHR0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuXHRcdFx0XHRcdCQuYXBwLm1hcC5yZXNpemUoKTtcblx0XHRcdFx0fSwgMjAwKTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHR9O1xuXG5cdHdpbmRvdy5pbml0aWFsaXplID0gJC5hcHAubWFwLmluaXQ7XG5cbn0pKGpRdWVyeSk7IiwiOyhmdW5jdGlvbiAoJCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHQkLmFwcCA9ICQuYXBwID0gJC5hcHAgfHwge307XG5cblx0dmFyIF90aGlzO1xuXG5cdCQuYXBwLnNhbmR3aWNoID0ge1xuXG5cdFx0Y29uZmlnOiB7XG5cdFx0XHRrZXlIb29rczogITEsXG5cdFx0XHRzZWxlY3RvcjogJy5qcy1zYW5kd2ljaC1tZW51JyxcbiAgICAgICAgICAgIHdyYXBwZXI6ICcubGF5b3V0LXdyYXBwZXInLFxuICAgICAgICAgICAgb3ZlcmxheTogJy5vdmVybGF5J1xuXHRcdH0sXG5cblx0XHRleHRlbmQ6IGZ1bmN0aW9uKGNvbmZpZylcblx0XHR7XG5cdFx0XHRfdGhpcyA9IHRoaXM7XG5cblx0XHRcdGlmICh0eXBlb2YgY29uZmlnICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgXHR7XG4gICAgICAgIFx0XHR2YXIgeDtcbiAgICAgICAgXHRcdGZvciAoeCBpbiBjb25maWcpXG4gICAgICAgIFx0XHR7XG4gICAgICAgIFx0XHRcdGlmICh0eXBlb2YgX3RoaXMuY29uZmlnW3hdICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgXHRcdFx0XHRfdGhpcy5jb25maWdbeF0gPSBjb25maWdbeF07XG4gICAgICAgIFx0XHR9XG4gICAgICAgIFx0fVxuXHRcdH0sXG5cblx0XHRpc09wZW46IGZ1bmN0aW9uKClcblx0XHR7XG5cdFx0XHRyZXR1cm4gYm9keS5oYXNDbGFzcygncGFnZS12aXNpYmxlJyk7XG5cdFx0fSxcblxuXHRcdGhpZGU6IGZ1bmN0aW9uKClcblx0XHR7XG5cdFx0XHRib2R5LnJlbW92ZUNsYXNzKCdwYWdlLW9wZW4nKTtcblxuXHQgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblx0XHRcdFx0Ym9keS5yZW1vdmVDbGFzcygncGFnZS12aXNpYmxlJyk7XG5cdFx0XHR9LCAxMCk7XG5cblx0ICAgICAgICAkKHRoaXMuY29uZmlnLm92ZXJsYXkpLmNzcyh7XG5cdCAgICAgICAgICAgICd2aXNpYmlsaXR5JzogJ2hpZGRlbidcblx0ICAgICAgICB9KTtcblx0XHR9LFxuXG5cdFx0dG9nZ2xlOiBmdW5jdGlvbigpXG5cdFx0e1xuXHRcdFx0aWYgKGJvZHkuaGFzQ2xhc3MoJ3BhZ2UtdmlzaWJsZScpKVxuXHRcdFx0e1xuXHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0Ym9keS5yZW1vdmVDbGFzcygncGFnZS12aXNpYmxlJyk7XG5cdFx0XHRcdH0sIDEwKTtcblx0XHRcdH1cblx0XHRcdGVsc2Vcblx0XHRcdHtcblx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpe1xuXHRcdFx0XHRcdGJvZHkuYWRkQ2xhc3MoJ3BhZ2UtdmlzaWJsZScpO1xuXHRcdFx0XHR9LCAxMCk7XG5cdFx0XHR9XG5cblx0XHRcdGJvZHkudG9nZ2xlQ2xhc3MoJ3BhZ2Utb3BlbicpO1xuXG5cdFx0XHR2YXIgdmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcblxuXHQgICAgICAgIGlmICghYm9keS5oYXNDbGFzcygncGFnZS1vcGVuJykpXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgICB2aXNpYmlsaXR5ID0gJ2hpZGRlbidcblx0ICAgICAgICB9XG5cdCAgICAgICAgXG5cdCAgICAgICAgJChfdGhpcy5jb25maWcub3ZlcmxheSkuY3NzKHtcblx0ICAgICAgICAgICAgJ3Zpc2liaWxpdHknOiB2aXNpYmlsaXR5XG5cdCAgICAgICAgfSk7XG5cdFx0fSxcblxuXHRcdHNhbmR3aWNoVHJpZ2dlcjogZnVuY3Rpb24oKVxuXHRcdHtcblx0XHRcdF90aGlzID0gdGhpcztcblxuXHRcdFx0aWYgKF90aGlzLmNvbmZpZy5rZXlIb29rcylcblx0XHRcdHtcblx0XHRcdFx0Ym9keS5vbigna2V5ZG93bicsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRpZihlLmtleUNvZGUgPT0gMjcgJiYgX3RoaXMuaXNPcGVuKCkpXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0X3RoaXMudG9nZ2xlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0ICAgIFx0fTtcblxuXHRcdFx0Ym9keS5vbignY2xpY2snLCBfdGhpcy5jb25maWcuc2VsZWN0b3IsIGZ1bmN0aW9uKGUpe1xuXHRcdCAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCA/IGUucHJldmVudERlZmF1bHQoKSA6IGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcblx0XHRcdFx0X3RoaXMudG9nZ2xlKCk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0b3ZlcmxheVRyaWdnZXI6IGZ1bmN0aW9uKClcblx0XHR7XG5cdFx0XHRfdGhpcyA9IHRoaXM7XG5cblx0XHRcdGJvZHkub24oJ2NsaWNrJywgX3RoaXMuY29uZmlnLm92ZXJsYXksIGZ1bmN0aW9uKGUpe1xuXHRcdFx0XHRfdGhpcy5oaWRlKCk7XG5cdFx0ICAgIH0pO1xuXHRcdH0sXG5cblx0XHRpbml0OiBmdW5jdGlvbihjb25maWcpXG5cdFx0e1xuXHRcdFx0dGhpcy5leHRlbmQoY29uZmlnKTtcblx0XHRcdFxuXHRcdFx0dGhpcy5zYW5kd2ljaFRyaWdnZXIoKTtcblx0XHRcdHRoaXMub3ZlcmxheVRyaWdnZXIoKTtcblx0XHR9XG5cblx0fTtcblxufSkoalF1ZXJ5KTsiLCJ2YXIgdG9vbHMgPSB7XG4gICAgaXNTdHJpbmc6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdzdHJpbmcnO1xuICAgIH0sXG4gICAgaXNPYmplY3Q6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdvYmplY3QnO1xuICAgIH0sXG4gICAgaXNOdW1iZXI6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdudW1iZXInO1xuICAgIH0sXG4gICAgaXNVbmRlZmluZWQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJztcbiAgICB9LFxuICAgIGlzRGVmaW5lZDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnO1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIGlzX251bGwoeClcbntcblx0cmV0dXJuIHggPT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gaXNfdW5kZWZpbmVkKHgpXG57XG5cdHJldHVybiB0eXBlb2YoeCkgPT0gJ3VuZGVmaW5lZCc7XG59XG5cbmZ1bmN0aW9uIGlzX3RvdWNoX2RldmljZSgpXG57XG4gICAgcmV0dXJuIChcIm9udG91Y2hzdGFydFwiIGluIHdpbmRvdyB8fCB3aW5kb3cuRG9jdW1lbnRUb3VjaCAmJiBkb2N1bWVudCBpbnN0YW5jZW9mIERvY3VtZW50VG91Y2ggfHwgJ29ubXNnZXN0dXJlY2hhbmdlJyBpbiB3aW5kb3cpO1xufVxuXG5mdW5jdGlvbiBkZWNsT2ZOdW0obnVtYmVyLCB0aXRsZXMpIHsgIFxuICAgIGNhc2VzID0gWzIsIDAsIDEsIDEsIDEsIDJdOyAgXG4gICAgcmV0dXJuIHRpdGxlc1sgKG51bWJlciUxMDA+NCAmJiBudW1iZXIlMTAwPDIwKT8gMiA6IGNhc2VzWyhudW1iZXIlMTA8NSk/bnVtYmVyJTEwOjVdIF07ICBcbn1cbi8vIGRlY2xPZk51bShjb3VudCwgWyfQvdCw0LnQtNC10L3QsCcsICfQvdCw0LnQtNC10L3QvicsICfQvdCw0LnQtNC10L3RiyddKTtcblxudmFyIHNodWZmbGUgPSBmdW5jdGlvbiggYXJyYXkgKSB7XG5cdHJldHVybiBhcnJheS5zb3J0KCBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gTWF0aC5yYW5kb20oKSAtIDAuNTtcblx0fSApO1xufTtcblxuZnVuY3Rpb24gdXBkYXRlQ2FwdGNoYShjYXB0Y2hhLCBldilcbntcbiAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgaWYgKCQoY2FwdGNoYSkubGVuZ3RoKVxuICAgIHtcbiAgICAgICAgJChjYXB0Y2hhKS5hdHRyKCdzcmMnLCAkKGNhcHRjaGEpLmF0dHIoJ3NyYycpLnNwbGl0KCAnPycgKVswXSArICc/dj0nICsgTWF0aC5yYW5kb20oKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuICExO1xufVxuXHRcbi8vIGZ1bmN0aW9uIGRvT25PcmllbnRhdGlvbkNoYW5nZSgpXG4vLyB7XG4vLyBcdHN3aXRjaCh3aW5kb3cub3JpZW50YXRpb24pIFxuLy8gXHR7ICBcbi8vIFx0XHRjYXNlIC05MDpcbi8vIFx0XHRjYXNlIDkwOlxuLy8gXHRcdGFsZXJ0KCdsYW5kc2NhcGUnKTtcbi8vIFx0XHRicmVhazsgXG4vLyBcdFx0ZGVmYXVsdDpcbi8vIFx0XHRhbGVydCgncG9ydHJhaXQnKTtcbi8vIFx0XHRicmVhazsgXG4vLyBcdH1cbi8vIH1cblxuLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgZG9Pbk9yaWVudGF0aW9uQ2hhbmdlKTtcblxuLy8gZG9Pbk9yaWVudGF0aW9uQ2hhbmdlKCk7XG5cblxuLy8gU21vb3RobHkgU2Nyb2xsIHRvIHBhZ2UgYW5jaG9yc1xuLy8gdmFyIGp1bXAgPSBmdW5jdGlvbiAoZSkge1xuLy8gLy8gU3RvcCB0aGUgXCJoYXJkXCIganVtcC5cbi8vIGUucHJldmVudERlZmF1bHQoKTtcbi8vIC8vR2V0IHRoZSB0YXJnZXRcbi8vIHZhciB0YXJnZXQgPSAkKHRoaXMpLmF0dHIoXCJocmVmXCIpO1xuLy8gLy8gVXNlIGFuaW1hdGVkIHNjcm9sbGluZy4gIFRoZSAuc3RvcCgpIHByZXZlbnRzIHNjcm9sbCBxdWV1ZS5cbi8vICQoJ2h0bWwsYm9keScpLnN0b3AoKS5hbmltYXRlKHtcbi8vICAgLy8gRmluZCB0b3AtcG9zaXRpb24gb2YgdGFyZ2V0LWVsZW1lbnQgYW5kIHNldCBpdCBhcyBzY3JvbGwgdGFyZ2V0LlxuLy8gICBzY3JvbGxUb3A6ICQodGFyZ2V0KS5vZmZzZXQoKS50b3Bcbi8vICAgLy8gQW5pbWF0aW9uIERlbGF5OlxuLy8gICB9LCA1MDAsIGZ1bmN0aW9uICgpIHtcbi8vICAgICAvLyBBdHRhY2ggdGhlIGhhc2ggKCNqdW1wdGFyZ2V0KSB0byB0aGUgcGFnZSB1cmwuXG4vLyAgICAgbG9jYXRpb24uaGFzaCA9IHRhcmdldDtcbi8vICAgfSk7XG4vLyB9XG5cbi8vIC8vIEluc3RhbnRpYXRlIHRoaXMgYXMgZm9sbG93cyBpbiB5b3VyIGRvY3VtZW50LnJlYWR5KCk7XG4vLyAvLyQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcbi8vIC8vJCgnYVtocmVmKj0jXScpLmJpbmQoXCJjbGlja1wiLCBqdW1wKTtcbi8vIC8vcmV0dXJuIGZhbHNlO1xuLy8gLy99KTsiLCI7KGZ1bmN0aW9uKCQpIHtcbiAgICBcbiAgICB2YXIgYm9keSA9ICQoJ2JvZHknKSxcbiAgICAgICAgY29uZmlnID0ge1xuICAgICAgICAgICAgcGNsYXNzOiAnZm9ybV9fcm93J1xuICAgICAgICB9O1xuXG4gICAgZnVuY3Rpb24gaVNlbGVjdChzZWxlY3QpXG4gICAge1xuICAgICAgICBpZiAoc2VsZWN0Lmhhc0NsYXNzKCdpbml0ZWQnKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNlbGVjdGJveCwgZGl2U2VsZWN0LCBkaXZUZXh0LCBkcm9wZG93biwgbGksIHNlbGVjdEhlaWdodCwgbGlIZWlnaHQsIHBvc2l0aW9uLCBvcHRpb24sIHRvcE9mZnNldCwgYm90dG9tT2Zmc2V0LCBzZWxlY3RlZFRleHQsIGxpVGV4dCwgb3B0aW9uU2VsZWN0ZWQsIHNlbGVjdGJveFNlbGVjdCwgc2VsZWN0Ym94RHJvcGRvd24sIHNlbGVjdGJveFRyaWdnZXIsIHNlbGVjdGJveFNlbGVjdFRleHQsIG9wdGlvblRleHQsIGRkbGlzdCwgY2xhc3NfbmFtZSwgbGVuZ3RoLCBsaUl0ZW0sIGRhdGEsIHg7XG5cbiAgICAgICAgb3B0aW9uID0gc2VsZWN0LmZpbmQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb25TZWxlY3RlZCA9IG9wdGlvbi5maWx0ZXIoJzpzZWxlY3RlZCcpO1xuICAgICAgICBcbiAgICAgICAgaWYgKG9wdGlvblNlbGVjdGVkLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgb3B0aW9uVGV4dCA9IG9wdGlvblNlbGVjdGVkLnRleHQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvblRleHQgPSBvcHRpb24uZmlsdGVyKCc6Zmlyc3QnKS50ZXh0KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvL0h0bWxcbiAgICAgICAgZGRsaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgICAgICAgZGRsaXN0LmNsYXNzTmFtZSA9ICdzZWxlY3Rib3hfX2Ryb3Bkb3duX19saXN0JztcblxuICAgICAgICBsZW5ndGggPSBvcHRpb24ubGVuZ3RoO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NfbmFtZSA9ICcnO1xuXG4gICAgICAgICAgICBpZiAob3B0aW9uLmVxKGkpLmlzKCc6c2VsZWN0ZWQnKSkgY2xhc3NfbmFtZSArPSAnIHNlbGVjdGVkIHNlbCc7XG4gICAgICAgICAgICBpZiAob3B0aW9uLmVxKGkpLmlzKCc6ZGlzYWJsZWQnKSkgY2xhc3NfbmFtZSArPSAnIGRpc2FibGVkJztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGkgPT0gKG9wdGlvbi5sZW5ndGgtMSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2xhc3NfbmFtZSArPSAnIGxhc3QtY2hpbGQnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAob3B0aW9uLmVxKGkpLmRhdGEoJ2NsYXNzbmFtZScpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNsYXNzX25hbWUgKz0gJyAnICsgb3B0aW9uLmVxKGkpLmRhdGEoJ2NsYXNzbmFtZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsaUl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICAgICAgbGlJdGVtLmNsYXNzTmFtZSA9ICdzZWxlY3Rib3hfX2Ryb3Bkb3duX19pdGVtJyArIGNsYXNzX25hbWU7XG4gICAgICAgICAgICBsaUl0ZW0uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUob3B0aW9uLmVxKGkpLnRleHQoKSkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAob3B0aW9uLmVxKGkpLmRhdGEoKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gb3B0aW9uLmVxKGkpLmRhdGEoKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBmb3IgKHggaW4gZGF0YSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxpSXRlbS5kYXRhc2V0W3hdID0gZGF0YVt4XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRkbGlzdC5hcHBlbmRDaGlsZChsaUl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZWN0Ym94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHNlbGVjdGJveC5jbGFzc05hbWUgPSAnc2VsZWN0Ym94JztcblxuICAgICAgICBpZiAoc2VsZWN0LmlzKCc6ZGlzYWJsZWQnKSlcbiAgICAgICAge1xuICAgICAgICAgICAgc2VsZWN0Ym94LmNsYXNzTmFtZSA9IHNlbGVjdGJveC5jbGFzc05hbWUgKyAnIGlzLWRpc2FibGVkJztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgc2VsZWN0Ym94U2VsZWN0VGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBzZWxlY3Rib3hTZWxlY3RUZXh0LmNsYXNzTmFtZSA9ICdzZWxlY3Rib3hfX3NlbGVjdF9fdGV4dCc7XG4gICAgICAgIHNlbGVjdGJveFNlbGVjdFRleHQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUob3B0aW9uVGV4dCkpO1xuXG4gICAgICAgIHNlbGVjdGJveFNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBzZWxlY3Rib3hTZWxlY3QuY2xhc3NOYW1lID0gJ3NlbGVjdGJveF9fc2VsZWN0JztcbiAgICAgICAgc2VsZWN0Ym94U2VsZWN0LmFwcGVuZENoaWxkKHNlbGVjdGJveFNlbGVjdFRleHQpO1xuXG4gICAgICAgIHNlbGVjdGJveFRyaWdnZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgc2VsZWN0Ym94VHJpZ2dlci5jbGFzc05hbWUgPSAnc2VsZWN0Ym94X190cmlnZ2VyJztcbiAgICAgICAgc2VsZWN0Ym94VHJpZ2dlci5pbm5lckhUTUwgPSAnPGkgY2xhc3M9XCJzZWxlY3Rib3hfX3RyaWdnZXJfX2Fycm93XCI+PC9pPic7XG5cbiAgICAgICAgc2VsZWN0Ym94RHJvcGRvd24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgc2VsZWN0Ym94RHJvcGRvd24uY2xhc3NOYW1lID0gJ3NlbGVjdGJveF9fZHJvcGRvd24nO1xuICAgICAgICBzZWxlY3Rib3hEcm9wZG93bi5hcHBlbmRDaGlsZChkZGxpc3QpO1xuICAgICAgICBcbiAgICAgICAgc2VsZWN0Ym94LmFwcGVuZENoaWxkKHNlbGVjdGJveFNlbGVjdCk7XG4gICAgICAgIHNlbGVjdGJveC5hcHBlbmRDaGlsZChzZWxlY3Rib3hUcmlnZ2VyKTtcbiAgICAgICAgc2VsZWN0Ym94LmFwcGVuZENoaWxkKHNlbGVjdGJveERyb3Bkb3duKTtcblxuICAgICAgICBzZWxlY3QuYmVmb3JlKHNlbGVjdGJveCkuY3NzKHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgdG9wOiAtOTk5OVxuICAgICAgICB9KTtcblxuICAgICAgICBzZWxlY3Rib3ggPSAkKHNlbGVjdGJveCk7XG5cbiAgICAgICAgLy8gRXZlbnRzXG4gICAgICAgIGRpdlNlbGVjdCAgID0gJChzZWxlY3Rib3hTZWxlY3QpO1xuICAgICAgICBkaXZUZXh0ICAgICA9ICQoc2VsZWN0Ym94U2VsZWN0VGV4dCk7XG4gICAgICAgIGRyb3Bkb3duICAgID0gJChzZWxlY3Rib3hEcm9wZG93bik7XG4gICAgICAgIFxuICAgICAgICBsaSA9IGRyb3Bkb3duLmZpbmQoJ2xpJyk7XG5cbiAgICAgICAgc2VsZWN0SGVpZ2h0ID0gc2VsZWN0Ym94Lm91dGVySGVpZ2h0KCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoZHJvcGRvd24uY3NzKCdsZWZ0JykgPT0gJ2F1dG8nKVxuICAgICAgICB7XG4gICAgICAgICAgICBkcm9wZG93bi5jc3Moe1xuICAgICAgICAgICAgICAgIGxlZnQ6IDBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoZHJvcGRvd24uY3NzKCd0b3AnKSA9PSAnYXV0bycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRyb3Bkb3duLmNzcyh7XG4gICAgICAgICAgICAgICAgdG9wOiBzZWxlY3RIZWlnaHRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgbGlIZWlnaHQgPSBsaS5vdXRlckhlaWdodCgpO1xuICAgICAgICBwb3NpdGlvbiA9IGRyb3Bkb3duLmNzcygndG9wJyk7XG5cbiAgICAgICAgZHJvcGRvd24uaGlkZSgpO1xuICAgICAgICBzZWxlY3Rib3gucmVtb3ZlQ2xhc3MoJ3NlbGVjdGJveC1hY3RpdmUnKTtcbiAgICAgICAgXG4gICAgICAgIGRpdlNlbGVjdC5vbignY2xpY2snLCBmdW5jdGlvbiAoZSl7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIGlmIChzZWxlY3Rib3guaGFzQ2xhc3MoJ2lzLWRpc2FibGVkJykpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0b3BPZmZzZXQgPSBzZWxlY3Rib3gub2Zmc2V0KCkudG9wO1xuICAgICAgICAgICAgYm90dG9tT2Zmc2V0ID0gJCh3aW5kb3cpLmhlaWdodCgpIC0gc2VsZWN0SGVpZ2h0IC0gKHRvcE9mZnNldCAtICQod2luZG93KS5zY3JvbGxUb3AoKSk7XG5cbiAgICAgICAgICAgIGlmIChib3R0b21PZmZzZXQgPCAwIHx8IGJvdHRvbU9mZnNldCA8IGxpSGVpZ2h0ICogNilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkcm9wZG93bi5oZWlnaHQoJ2F1dG8nKS5jc3Moe1xuICAgICAgICAgICAgICAgICAgICB0b3A6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiBwb3NpdGlvblxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRyb3Bkb3duLm91dGVySGVpZ2h0KCkgPiB0b3BPZmZzZXQgLSAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgLSAyMCkge1xuICAgICAgICAgICAgICAgICAgICBkcm9wZG93bi5oZWlnaHQoTWF0aC5mbG9vcigodG9wT2Zmc2V0IC0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpIC0gMjApIC8gbGlIZWlnaHQpICogbGlIZWlnaHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJvdHRvbU9mZnNldCA+IGxpSGVpZ2h0ICogNilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkcm9wZG93bi5oZWlnaHQoJ2F1dG8nKS5jc3Moe1xuICAgICAgICAgICAgICAgICAgICBib3R0b206ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgdG9wOiBwb3NpdGlvblxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRyb3Bkb3duLm91dGVySGVpZ2h0KCkgPiBib3R0b21PZmZzZXQgLSAyMClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duLmhlaWdodChNYXRoLmZsb29yKChib3R0b21PZmZzZXQgLSAyMCkgLyBsaUhlaWdodCkgKiBsaUhlaWdodCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZWxlY3Rib3guY3NzKHtcbiAgICAgICAgICAgICAgICB6SW5kZXg6IDEwMDBcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkKCcuZm9ybV9fcm93Lm92ZXJlZCcpLnJlbW92ZUNsYXNzKCdvdmVyZWQnKTtcblxuICAgICAgICAgICAgaWYgKHNlbGVjdGJveC5jbG9zZXN0KCcuZm9ybV9fcm93JykubGVuZ3RoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNlbGVjdGJveC5jbG9zZXN0KCcuZm9ybV9fcm93JykuYWRkQ2xhc3MoJ292ZXJlZCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZHJvcGRvd24uaXMoJzpoaWRkZW4nKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAkKCdkaXYuZHJvcGRvd246dmlzaWJsZScpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBzZWxlY3Rib3guYWRkQ2xhc3MoJ3NlbGVjdGJveC1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICBkcm9wZG93bi5zaG93KCk7XG5cbiAgICAgICAgICAgICAgICBib2R5LnRyaWdnZXIoJ3NlbGVjdC5vcGVuJywgZGl2U2VsZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZWxlY3Rib3gucmVtb3ZlQ2xhc3MoJ3NlbGVjdGJveC1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICBkcm9wZG93bi5oaWRlKCk7XG5cbiAgICAgICAgICAgICAgICBib2R5LnRyaWdnZXIoJ3NlbGVjdC5jbG9zZScsIGRpdlNlbGVjdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGkuaG92ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzZWxlY3RlZFRleHQgPSBsaS5maWx0ZXIoJy5zZWxlY3RlZCcpLnRleHQoKTtcblxuICAgICAgICBsaS5maWx0ZXIoJzpub3QoLmRpc2FibGVkKScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxpVGV4dCA9ICQodGhpcykudGV4dCgpO1xuXG4gICAgICAgICAgICBpZiAobGkuY2xvc2VzdCgnLmZvcm1fX3JvdycpLmxlbmd0aClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsaS5jbG9zZXN0KCcuZm9ybV9fcm93JykucmVtb3ZlQ2xhc3MoJ292ZXJlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRUZXh0ICE9PSBsaVRleHQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnc2VsZWN0ZWQgc2VsJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQgc2VsJyk7XG4gICAgICAgICAgICAgICAgb3B0aW9uLnByb3AoJ3NlbGVjdGVkJywgITEpLmVxKCQodGhpcykuaW5kZXgoKSkucHJvcCgnc2VsZWN0ZWQnLCAhMCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRUZXh0ID0gbGlUZXh0O1xuICAgICAgICAgICAgICAgIGRpdlRleHQudGV4dChsaVRleHQpO1xuICAgICAgICAgICAgICAgIHNlbGVjdC5jaGFuZ2UoKTtcblxuICAgICAgICAgICAgICAgIHNlbGVjdGJveC5hZGRDbGFzcygnaXMtY2hlY2tlZCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkcm9wZG93bi5oaWRlKCk7XG5cbiAgICAgICAgICAgIHNlbGVjdGJveC5yZW1vdmVDbGFzcygnc2VsZWN0Ym94LWFjdGl2ZScpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAkKCdib2R5JykudHJpZ2dlcignc2VsZWN0LmNsb3NlJywgZGl2U2VsZWN0KTtcblxuICAgICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICB9KTtcblxuICAgICAgICBkcm9wZG93bi5tb3VzZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkcm9wZG93bi5maW5kKCdsaS5zZWwnKS5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBzZWxlY3QuZm9jdXMoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKCcuc2VsZWN0Ym94JykucmVtb3ZlQ2xhc3MoJ2ZvY3VzZWQnKTtcbiAgICAgICAgICAgIHNlbGVjdGJveC5hZGRDbGFzcygnZm9jdXNlZCcpO1xuICAgICAgICB9KS5rZXl1cChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkaXZUZXh0LnRleHQob3B0aW9uLmZpbHRlcignOnNlbGVjdGVkJykudGV4dCgpKTtcbiAgICAgICAgICAgIGxpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCBzZWwnKS5lcShvcHRpb24uZmlsdGVyKCc6c2VsZWN0ZWQnKS5pbmRleCgpKS5hZGRDbGFzcygnc2VsZWN0ZWQgc2VsJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNlbGVjdC5hZGRDbGFzcygnaW5pdGVkJyk7XG5cbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmICghJChlLnRhcmdldCkucGFyZW50cygpLmhhc0NsYXNzKCdzZWxlY3Rib3gnKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkcm9wZG93bi5oaWRlKCkuZmluZCgnbGkuc2VsJykuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgc2VsZWN0Ym94LnJlbW92ZUNsYXNzKCdzZWxlY3Rib3gtYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgc2VsZWN0Ym94LnJlbW92ZUNsYXNzKCdmb2N1c2VkJyk7XG5cbiAgICAgICAgICAgICAgICAkKCdib2R5JykudHJpZ2dlcignc2VsZWN0LmNsb3NlJywgZGl2U2VsZWN0KTtcblxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3Rib3guY2xvc2VzdCgnLmZvcm1fX3JvdycpLmxlbmd0aClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGJveC5jbG9zZXN0KCcuZm9ybV9fcm93JykucmVtb3ZlQ2xhc3MoJ292ZXJlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgJC5mbi5zZWxlY3Rib3ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIChmdW5jdGlvbihzZWxlY3Qpe1xuXG4gICAgICAgICAgICAgICAgaVNlbGVjdChzZWxlY3QpO1xuXG4gICAgICAgICAgICAgICAgc2VsZWN0Lm9uKCdyZWZyZXNoJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0LnByZXYoJy5zZWxlY3Rib3gnKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0LnJlbW92ZUNsYXNzKCdpbml0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgaVNlbGVjdChzZWxlY3QpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9KSgkKHRoaXMpKVxuXG4gICAgICAgIH0pO1xuXG4gICAgfTtcbn0pKGpRdWVyeSk7IiwiOyhmdW5jdGlvbiAoICQsIHdpbmRvdywgZG9jdW1lbnQgKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdHZhciB2aWV3cG9ydCA9IDAsXG4gICAgXHR3aGVpZ2h0ID0gJCh3aW5kb3cpLmhlaWdodCgpLFxuICAgIFx0c2Nyb2xsVG9wO1xuXG4gICAgJC5mbi52aWV3cG9ydCA9IGZ1bmN0aW9uICggb3B0aW9ucyApIHtcbiAgICAgICAgb3B0aW9ucyA9ICQuZXh0ZW5kKCB7fSwgJC5mbi52aWV3cG9ydC5vcHRpb25zLCBvcHRpb25zICk7XG5cbiAgICAgICAgJC5mbi52aWV3cG9ydC5vcHRpb25zLml0ZW1zID0gdGhpcztcblxuICAgICAgICBpZiAoISQuZm4udmlld3BvcnQub3B0aW9ucy5lbGVtZW50cy5sZW5ndGgpXG5cdFx0e1xuXHRcdFx0JC5mbi52aWV3cG9ydC5jYWxjdWxhdGUoKTtcblx0XHR9XG5cblx0XHRpZiAoJC5mbi52aWV3cG9ydC5vcHRpb25zLmVsZW1lbnRzLmxlbmd0aClcblx0XHR7XG5cdFx0XHQkLmZuLnZpZXdwb3J0LmFuaW1hdGUoKTtcblx0ICAgIH1cblxuXHQgICAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpe1xuXHRcdFx0JC5mbi52aWV3cG9ydC5hbmltYXRlKCk7XG5cdFx0fSk7XG5cblx0ICAgICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKXtcblx0XHRcdCQuZm4udmlld3BvcnQuY2FsY3VsYXRlKCk7XG5cdFx0fSk7XG4gICAgfTtcblxuICAgICQuZm4udmlld3BvcnQub3B0aW9ucyA9IHtcbiAgICAgICAgaXRlbXM6IHt9LFxuICAgICAgICBlbGVtZW50czoge31cbiAgICB9O1xuXG5cdCQuZm4udmlld3BvcnQuY2FsY3VsYXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0JC5mbi52aWV3cG9ydC5vcHRpb25zLmVsZW1lbnRzID0gJC5mbi52aWV3cG9ydC5vcHRpb25zLml0ZW1zLm1hcChmdW5jdGlvbigpe1xuXHRcdFx0aWYgKCQodGhpcykubGVuZ3RoKSB7XG5cdFx0XHRcdHJldHVybiAkKHRoaXMpO1xuXHRcdFx0fVxuICAgICAgICB9KTtcblx0fVxuXG4gICAgJC5mbi52aWV3cG9ydC5hbmltYXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0c2Nyb2xsVG9wID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xuXG5cdFx0JC5mbi52aWV3cG9ydC5vcHRpb25zLmVsZW1lbnRzLm1hcChmdW5jdGlvbigpe1xuXHRcdFx0dmlld3BvcnQgPSBzY3JvbGxUb3AgKyB3aGVpZ2h0O1xuXG5cdCAgICAgICAgaWYgKCQodGhpcykub2Zmc2V0KCkudG9wIDw9IHZpZXdwb3J0ICYmICEkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSlcblx0ICAgICAgICB7XG5cdCAgICAgICAgXHQkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcblx0ICAgICAgICB9XG5cdCAgICB9KTtcblx0fVxuXG59KSggalF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50ICk7XG5cbiQoJy5lZmZlY3RlZCcpLnZpZXdwb3J0KCk7IiwiJCh3aW5kb3cpLmxvYWQoZnVuY3Rpb24oKSB7XG5cdCQuYXBwLmluaXQoKTtcbn0pOyJdfQ==
